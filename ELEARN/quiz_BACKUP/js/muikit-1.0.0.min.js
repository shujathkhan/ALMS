/*! Javascript MUI Kit | - 1.0.0.0 */
(function(c,f){var a="1.0.8.1",d={Constants:{NULL_FUNCTION:function(){},NULL_ELEMENT_FUNCTION:function(){return document.createElement("DIV")}}},e=(function e(){var h=document.getElementsByTagName("head")[0];var g=document.getElementsByTagName("base")[0];var i=[];var k=false;if(g){h=baseElement.parentNode}var j=function(){var l=i.shift();if(g){h.insertBefore(l,g)}else{h.appendChild(l)}};return{scriptPath:function(q){var p=document.getElementsByTagName("script"),m=document.location.protocol,l="",o;for(var n=0;n<p.length;n++){if(p[n].src&&p[n].src.indexOf(q)!=-1){l=p[n].src.substring(0,p[n].src.lastIndexOf("/")+1);break}}l=l.replace(document.location.protocol+"//","");o=l.split("/");if(o.length>0&&o[o.length-1]==""){o.pop()}return m+"//"+o.join("/")},loadScript:function(u,t,s,q){if(arguments[0]!=f&&arguments[0].constructor===Array){var m=arguments[0];for(var p in m){var n=m[p];this.loadScript(n,t,s,q)}return m}var l=(t!=="")?(t+"/"+u):u;var o=false;var r=document.createElement("script");r.type="text/javascript";r.src=l;r.charset="utf-8";if(s||q){r.onreadystatechange=r.onload=function(){if(o===false){if(typeof s==="function"){s()}}o=true;if(q){if(i.length==0){k=false}else{j()}}}}if(q===true){i.push(r);if(k===false){k=true;j()}}else{if(g){h.insertBefore(r,g)}else{h.appendChild(r)}}},writeScript:function(p,n){if(arguments[0]!=f&&arguments[0].constructor===Array){var o=arguments[0];for(var m in o){var l=o[m];this.writeScript(l,n)}return o}var q=(n!=="")?(n+"/"+p):p;document.write('<script type="text/javascript" src="'+q+'"><\/script>')}}})(),b=(function b(){return{register:function(h,g,i){if(c[h]!==f){debug.warn("Warning Glboal Extend: "+h+" is exists !!")}if(c[h]===f||i===true){c[h]=g}}}})();d.register=function(h,g,i){if(d[h]!==f){debug.warn("Warning Extend: property ("+h+") of UI is exists !!")}if(d[h]===f||i===true){d[h]=g}};d.register("ScriptLoader",e);d.register("Global",b);d.Global.register("UI",d)})(window);(function(a,c){a.debug_enabled=a.debug_enabled||false;var b=function(){var d=function(i){var h=new Date().getTime()/1000;var j=parseInt(h,10);return(i)?h:(Math.round((h-j)*1000)/1000)};b.enabled=(a.debug_enabled===true)?true:false;b.currentTime=d(true);var g=["log","info","warn","error"];var e=function(k,j){if(typeof k!="function"){return}for(var h in g){var l=g[h];k.call(j,l)}};if(Function.prototype.bind&&a.console!=c&&typeof a.console.log=="object"){e(function(h){if(a.console[h]==c){a.console[h]=this.bind(a.console[h],a.console)}},Function.prototype.call);return a.console}g.push("resetTime","elapsedTime","captureTrace","message");var f={filter:[],_execute:function(o,j){if(o!="message"&&o!="error"&&!b.enabled){return}if(o=="message"){o="log"}var n=Array.prototype.slice.call(j,0);if(Function.prototype.bind&&a.console!=c){switch(o){case"resetTime":b.currentTime=d(true);break;case"captureTrace":var h="";try{var l={};if(typeof Error.captureStackTrace=="function"){Error.captureStackTrace(l,this)}else{var i=new Error();l.stack=i.stack}var h=l.stack.split(/\n/);h.shift();h.shift();h.shift();h.shift();h=h[0]}catch(m){console.log(m);h=""}a.console.log(h);break;case"elapsedTime":n.push(o);n.push((d(true)-b.currentTime).toFixed(3));var k=Function.prototype.bind.call(a.console.log,a.console);k.apply(a.console,n);break;default:if(f.filter&&f.filter.length>0){if(!in_array(f.filter,n[0])){break}}var k=Function.prototype.bind.call(a.console[o],a.console);k.apply(a.console,n);break}}}};e(function(h){if(typeof f._execute=="function"){f[h]=function(i){f._execute(h,arguments)}}},f);return f};b.type=function(e){var d=(a.debug)?a.debug.filter:[];a.debug=(e=="console"&&a.console)?a.console:new b();a.debug.filter=d};b.__ClassCreateLog=false;b.filter=function(d){a.debug.filter=arguments};b.type("debug");UI.register("Debug",b)})(window);(function(c,d){var b=function b(g,l,j,f){var e=(typeof l=="function")?l.call(l):(l||{});var i=(c[g]===d)?(new Function("return function "+g+"() {}"))():c[g];b.register(i,e);if(j){for(var h in j){var k=j[h];c[k]=c[k]||e[h]}}i.toPrototype=function(){var n=c[g].prototype;for(var o in e){var m=o.replace(/[_|-](.)/g,function(p,q){return q.toUpperCase()});if(n[m]==d||(f&&f.overridePrototype===true)){if(m.charAt(0)!=="_"){n[m]=e[o]}}}};if(f&&f.toPrototype===true){i.toPrototype()}b[g]=i;return i};b.register=function(h,e,g){h=(h==d)?{}:h;for(var i in e){var f=i.replace(/[_|-](.)/g,function(j,k){return k.toUpperCase()});if(!!g||h[f]==d){if(f.charAt(0)!=="_"){h[f]=e[i]}}}return h};b("Object",{is_object:function(e){return(Object.prototype.toString.call(e)==="[object Object]")},is_equal:function(g,i,j,e){var f=true;if(j===true&&typeof g=="object"&&typeof g=="object"){for(var h in g){if(g[h]!==i[h]){f=false;break}}}else{f=e===true?(g===i):(g==i)}return f},is_plain_object:function(f){if(typeof f!=="object"||f.nodeType||f===c){return false}try{if(f.constructor&&!Object.prototype.hasOwnProperty.call(f.constructor.prototype,"isPrototypeOf")){return false}}catch(g){return false}return true},copy:function(f){var e={};this.merge(e,f,true);return e},extend:function(e,h){e=e||{};for(var f in h){var g=h[f];if(Array.isArray(g)){e[f]=b.Array.extend(e[f],g)}else{if(Object.isObject(g)){e[f]=b.Object.extend(e[f],g)}else{e[f]=g}}}return e},each:function(l,f,e){var h,k,i,g,j;g=e||this;for(h in l){k=l[h];if(f.call(g,h,k)===false){break}}},include:function(g,f,e){e=(e===d)?5:e;this.each(g,function(k,m){if(f[k]!==d){var h=f[k];var j=typeof m;var l=typeof h;if(j==="object"&&l==="object"){if(e>0){var i=false;for(i in m){break}if(i===false){m=h}else{m=this.include(m,h,(e-1))}}}else{if(j===d||j===l){m=h}}g[k]=m}},this);return g},objectFromQueryString:function(l){var g=l.split("&");var k={};for(var f in g){var j=(g[f].indexOf("=")===-1)?[g[f],""]:g[f].split("=");var e=decodeURI(j[0]);var h=decodeURI(j[1]);k[e]=h}return k},clone:function(e){return b.Object.merge({},e,true)},merge:function(e,i,g){if(g==true){e=e||{};for(var f in i){var h=i[f];if(Array.isArray(h)){e[f]=b.Array.merge(e[f],i[f],g)}else{if(Object.isObject(h)){e[f]=b.Object.merge(e[f],i[f],g)}else{e[f]=i[f]}}}}else{for(var f in i){if(e[f]!=d){var h=i[f];if(Array.isArray(h)){e[f]=b.Array.merge(e[f],i[f])}else{if(Object.isObject(h)){e[f]=b.Object.merge(e[f],i[f])}else{if(typeof h=="number"){if((""+e[f]).indexOf(".")!==-1){e[f]=parseFloat(i[f])||0}else{e[f]=parseInt(i[f])||0}}else{e[f]=h}}}}}}return e}});b("Array",{is_array:function(e){return(Object.prototype.toString.call(e)==="[object Array]")},in_array:function(h,g,e){for(var f in h){if(b.Object.isEqual(h[f],g,true,e)){return true}}return false},index_by_object:function(h,f){if(!b.Array.isArray(h)){return -1}var e=-1;for(var g=0;g<h.length;g++){if(g in h){if(h[g]===f){e=g;break}}}return e},add:function(f,e){if(!b.Array.isArray(f)){f=new Array()}if(e!=null){f.push.call(f,e)}return f},remove_at_index:function(g,e){if(e<0||e>g.length-1){return g}var f=g.slice(e+1||g.length);g.length=e;g.push.apply(g,f);return g},remove:function(h,f){if(f==null||h.length==0){return -1}var e=-1;for(var g=0;g<h.length;g++){if(b.Object.isEqual(h[g],f,true)){e=g;break}}if(e===-1){return h}return b.Array.removeAtIndex(h,e)},copy:function(e){return Array.prototype.slice.call(e,0)},sort:function(m,o,n){if(typeof o!="function"){return}var e=m&&typeof m.length!=d?m.length:0;var f=false;for(var l=0;l<e;l++){for(var g=0;g<e-1;g++){var k=o.call(n,m[g],m[g+1]);if(k==="ASC"){var h=m[g+1];m[g+1]=m[g];m[g]=h}else{if(k==="DESC"){var h=m[g];m[g]=m[g+1];m[g+1]=h}else{if(k===false){f=true;break}}}}if(f==true){break}}},merge:function(f,e){f=f||[];return f.concat(e)},extend:function(g,f){g=g||[];for(var e in f){if(g[e]==d){g[e]=f[e]}}return g},each:function(j,g,e){if(typeof g!="function"){return}var h=j&&typeof j.length!=d?j.length:0;for(var f=0;f<h;f++){if(f in j){if(g.call(e,f,j[f])===false){break}}}}});b("Number",{parse_int:function(f){var g=String(f).replace(/[,]/gi,"");var e=parseInt(g,10);if(isNaN(e)){e=0}return e},format:function(g){var h=String(g);var f=/(\-?\d+)(\d{3})($|\.\d+)/;var e=this;if(f.test(h)){return h.replace(f,function(l,k,j,i){return e.format(k)+","+j+""+i})}return h},pad:function(h,e){var i="00000000000000";var f=1.000000000001;var g=h>0?1+Math.floor(f*(Math.log(h)/Math.LN10)):1;return(i+h).substr(i.length-(e-g))},precision:function(g){var f=function(i){var j=i.toString(),h=j.indexOf(".");return h===-1?0:j.length-h-1};var e=f(g);return e}},{format:"number_format",pad:"number_pad"});b("XML",{to_JSON:function(m){var k={};if(m.nodeType==1){if(m.attributes.length>0){k["@attributes"]={};for(var h=0;h<m.attributes.length;h++){var e=m.attributes.item(h);k["@attributes"][e.nodeName]=e.value}}}else{if(m.nodeType==3||m.nodeType==4){return m.nodeValue}else{if(m.nodeType==8){return k}else{if(m.nodeType==9){}}}}if(m.hasChildNodes()){var p=true;for(var l=0;l<m.childNodes.length;l++){var r=m.childNodes.item(l);if(r.nodeType==8){continue}var q=r.nodeName;var n=b.XML.toJSON(r);n=(typeof n=="string")?trim(n):n;var g=q.indexOf("#")!==-1;if(!g){p=false}if(typeof n!=="string"||trim(n)!==""){if(k[q]===d){k[q]=n}else{if(typeof(k[q].push)=="undefined"){var f=k[q];k[q]=[];k[q].push(f)}k[q].push(n)}}}if(p===true){var o="";for(var q in k){if(q.indexOf("#")!==-1){o+=k[q]}}return o}}return k}});b("String",{guid:function(e){var f=(e==d||typeof e!=="string")?"xxxx-xxxx-xxxx-xxxx":e;return f.replace(/[xy]/g,function(i){var h=Math.random()*16|0,g=i=="x"?h:(h&3|8);return g.toString(16)})},trim:c.trim||function(e){return e==null?"":(e+"").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},lcfirst:function(e){e+="";var f=e.charAt(0).toLowerCase();return f+e.substr(1)},ucfirst:function(e){e+="";var f=e.charAt(0).toUpperCase();return f+e.substr(1)},camelize:function(e){return e.replace(/[_|-](.)/g,function(f,g){return g.toUpperCase()})},decamelize:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},splitString:function(h,f){f=f||",";var e=h.split(f);for(var g in e){e[g]=this.trim(e[g])}return e}},{trim:"trim",ucfirst:"ucfirst"});b("Cookie",{set:function(l,h,f,j,g,i){f=f||60*60*24*30*3;var e=new Date();e.setTime(e.getTime()+f);var k=escape(h)+((f==d)?"":"; expires="+e.toUTCString());if(j){k+="; path="+escape(j)}if(g){k+="; domain="+escape(g)}if(i){k+="; secure"}document.cookie=l+"="+k},get:function(h){var f=document.cookie;var g=f.indexOf(" "+h+"=");if(g==-1){g=f.indexOf(h+"=")}if(g==-1){f=null}else{g=f.indexOf("=",g)+1;var e=f.indexOf(";",g);if(e==-1){e=f.length}f=unescape(f.substring(g,e))}return f}},{set:"set_cookie",get:"get_cookie"});var a=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,h=/[^-+\dA-Z]/g,g=function(j,i){j=String(j);i=i||2;while(j.length<i){j="0"+j}return j};return function(n,A,v){var k=a;if(arguments.length==1&&Object.prototype.toString.call(n)=="[object String]"&&!/\d/.test(n)){A=n;n=d}n=n?new Date(n):new Date;if(isNaN(n)){debug.error("invalid date");return null}A=String(k.masks[A]||A||k.masks["default"]);if(A.slice(0,4)=="UTC:"){A=A.slice(4);v=true}var x=v?"getUTC":"get",r=n[x+"Date"](),i=n[x+"Day"](),p=n[x+"Month"](),u=n[x+"FullYear"](),w=n[x+"Hours"](),q=n[x+"Minutes"](),z=n[x+"Seconds"](),t=n[x+"Milliseconds"](),j=v?0:n.getTimezoneOffset(),l={d:r,dd:g(r),ddd:k.i18n.dayNames[i],dddd:k.i18n.dayNames[i+7],m:p+1,mm:g(p+1),mmm:k.i18n.monthNames[p],mmmm:k.i18n.monthNames[p+12],yy:String(u).slice(2),yyyy:u,h:w%12||12,hh:g(w%12||12),H:w,HH:g(w),M:q,MM:g(q),s:z,ss:g(z),l:g(t,3),L:g(t>99?Math.round(t/10):t),t:w<12?"a":"p",tt:w<12?"am":"pm",T:w<12?"A":"P",TT:w<12?"AM":"PM",Z:v?"UTC":(String(n).match(f)||[""]).pop().replace(h,""),o:(j>0?"-":"+")+g(Math.floor(Math.abs(j)/60)*100+Math.abs(j)%60,4),S:["th","st","nd","rd"][r%10>3?0:(r%100-r%10!=10)*r%10]};return A.replace(e,function(m){return m in l?l[m]:m.slice(1,m.length-1)})}}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};b("Date",{format:function(g,f,h){var e=a(g,f,h);return e===null?"":e}});b("Function",{bind:function(g){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var e=Array.prototype.slice.call(arguments,1),f=this,i=function(){},h=function(){return f.apply(this instanceof i&&g?this:g,e.concat(Array.prototype.slice.call(arguments)))};i.prototype=this.prototype;h.prototype=new i();return h}},{},{toPrototype:true,overridePrototype:false});UI.register("Helper",b)})(window);(function(window,undefined){var Debug=UI.Debug,Core=function Core(){return Core.__constructor.apply(this,arguments)};Core.__constructor=function(){return{destroy:function(){this.__destruct.apply(this,arguments)},toString:function(){if(this["__name"]){return this.__name}return"{}"},__parent:Object,__name:"Core",__class:Core,__methods:["destory","toString"],__construct:function(){},__destruct:function(){}}};Core.__constructor.prototype=Core.prototype={constructor:Core,__parent:Object,__name:"Core",__class:Core,__ancestor:Core};window.GLOBAL_VALUE=1;var Class=function(options){if(typeof options=="function"){options={name:"__CLASS__",parent:IObject,constructor:options}}var _instance,_class,_parent,_constructor,_caller;var className=Class.className(options.name);_class=eval("function "+className+"() { _instance = this; return _nativeCode.apply( _instance, arguments ); };"+className);_parent=(typeof options.parent=="function")?function(parent){if(Debug.__ClassCreateLog){debug.log("Class create [",className,"] from [",parent.__name,"]")}return parent}(options.parent):function(parentName){if(Debug.__ClassCreateLog){debug.log("Class create [",className,"] from [",parentName,"]")}var parent=(typeof window[parentName]=="function"&&window[parentName].prototype.__ancestor===Core)?window[parentName]:((typeof Class[parentName]=="function"&&Class[parentName].prototype.__ancestor===Core)?Class[parentName]:Core);return parent}((typeof options.parent=="string")?options.parent:"Core");_constructor=(options.constructor==undefined)?function(){}:options.constructor;Class.include(_class.prototype,_parent);_class.prototype.constructor=_class;_class.prototype.__ancestor=_parent.prototype.__ancestor;_class.prototype.__name=className;_class.prototype.__class=_class;_class.prototype.__parent=_parent;Class.extend(_parent,_class);if(options["static"]!=undefined){options.staticConstructor=options["static"]}if(options.staticConstructor!=undefined){var _staticInstance=(typeof options.staticConstructor=="function")?options.staticConstructor.apply(_class):options.staticConstructor;Class.extend(_staticInstance,_class)}_class.__constructor=function(){var constructor=(typeof _constructor==="function")?_constructor.apply(this,arguments):_constructor;constructor.__name=className;constructor.__class=_class;constructor.__parent=_parent;var methods=[];for(var method in constructor){if(typeof constructor[method]==="function"){methods.push(method)}}constructor.__methods=methods;return constructor};var _nativeCode=function(){var classConstructor,constructor,constructors=[],instance=this,args=arguments;classConstructor=_class.__constructor;constructor=classConstructor.apply(instance,args);constructors.push(constructor);while(classConstructor){classConstructor=constructor.__parent.__constructor;if(classConstructor==undefined){break}constructor=classConstructor.apply(instance,args);constructors.push(constructor)}var _superObject=new _class.prototype.__ancestor();for(var i=constructors.length-1;i>=0;i--){constructor=constructors[i];for(var method in _superObject){if(!UI.Helper.Array.inArray(["constructor","prototype"],method)){if(constructor[method]==undefined){constructor[method]=_superObject[method]}}}for(var method in constructor){if(typeof constructor[method]==="function"&&!Array.inArray(["__class","__parent","__ancestor","__methods","constructor","prototype"],method)){constructor[method]=(function(context,constructor,method,handler){if(!Array.inArray(["__construct"],method)){if(!Array.inArray(constructor.__methods,method)){handler=function(){return this._super(method,arguments)}}}return function(){var result;if(method!==context._superMethod&&context._super!==context._inheritSuper){var currentSuper=context._super;context._super=context._inheritSuper;result=handler.apply(context,arguments);context._super=currentSuper}else{result=handler.apply(context,arguments)}return result}})(this,constructor,method,constructor[method])}}constructor._inheritSuper=constructor._super=(function(_constructor,_superObject){var superMethod=function(method,args){var _super=_superObject;if(arguments.length===0){return _super}if(typeof _super[method]==="function"){var result;var currentSuper=this._super;try{this._super=_superObject._super;this._superMethod=method;result=_super[method].apply(this,args);this._superMethod=undefined;this._super=currentSuper}catch(e){this._superMethod=undefined;this._super=currentSuper;console.log(e,_super,this,method)}return result}else{if(typeof _super[method]!=="undefined"){if(args==undefined){return _super[method]}_super[method]=args}else{console.warn(this,"parent is not has method("+method+")")}}return this};superMethod.prototype=constructor;return superMethod})(constructor,_superObject);for(var method in constructor){if(!UI.Helper.Array.inArray(["constructor","prototype"],method)){instance[method]=constructor[method]}}_superObject=constructor}if((instance.constructor===Core||instance.constructor===_class)&&typeof instance.__construct=="function"){instance.__construct.apply(instance,arguments)}return instance};Class.register(className,_class,options.force===true);return _class};Class.className=function(className){if(typeof className=="string"&&className.length>1){var firstChar=className.charAt(0);var remainName=className.substr(1);firstChar=firstChar.replace(/[^a-z_]/gi,"");if(firstChar!=""){remainName=remainName.replace(/[^a-z0-9_]/gi,"");className=firstChar+remainName;if(className.length>0){return className}}}return"__CLASS__"};Class.isClass=Core.isClass=function(constructor){if(typeof constructor!=="function"){return false}if(typeof constructor.prototype.__ancestor==undefined){return false}return(constructor.prototype.__ancestor===Core)};Class.register=function(name,object,force){if(Class[name]!=undefined){debug.warn("Warning Extend: property ("+name+") of Class is exists !!")}if(Class[name]==undefined||force===true){Class[name]=object}};Class.inherit=function(parent,context){context=(context==undefined)?this:context;for(var name in parent){if(context[name]==undefined){context[name]=parent[name]}}};Class.include=function(proto,context){context=(context==undefined)?this:context;var cloneProto=Object.clone(proto);var prototype=context.prototype;if(prototype==undefined){prototype=context.prototype={}}for(var name in cloneProto){if(name=="constructor"||name=="prototype"){continue}prototype[name]=cloneProto[name]}};Class.extend=function(prop,context,ignoreOverride,hidden){context=(context==undefined)?this:context;for(var name in prop){if(!ignoreOverride||context[name]==undefined){if(name=="constructor"||name=="prototype"){continue}if(!hidden||name.substr(0,1)!=="_"){context[name]=prop[name]}}}};UI.register("Class",Class)})(window);(function(i,d){var a=UI.Class,h=a.Core,c=a.IObject,f=UI.Helper,b=a({name:"UserDefaults",parent:a.IObject,constructor:function(){var j;var l={};var k=i.localStorage;return{__construct:function(m){j=m;var n=k.getItem(j);l=(n&&typeof n=="string")?JSON.parse(n):{};return this},data:function(){return l},get:function(m){if(l[m]==d){return d}return l[m]},set:function(m,n){l[m]=n},remove:function(m){l[m]=d;delete l[m]},clear:function(){l={}},keys:function(){var n=[];for(var m in l){n.push(m)}return n},synchronize:function(){var m=JSON.stringify(l);k.setItem(j,m)}}},"static":function(){var j={};return{standardUserDefaults:function(){return UI.UserDefaults.userDefaultsWithKey("__UIKIT_USER_DEFAULT__")},userDefaultsWithKey:function(k){if(j[k]!=d){return j[k]}j[k]=new a.UserDefaults(k);return j[k]},resetStandardUserDefaults:function(){_standardUserDefaults.destroy();_standardUserDefaults=d;_standardUserDefaults=new a.UserDefaults()}}}}),g=a({name:"LocalStorage",parent:c,constructor:function(){var j=i.localStorage;return{init:function(){return this},get:function(k){return j.getItem(k)},set:function(k,l){j.setItem(k,l)},remove:function(k){j.removeItem(k)},clear:function(){j.clear()},data:function(){return j},keys:function(){var l=[];for(var k in j){if(k!="length"){l.push(k)}}return l}}},"static":function(){var j;return{sharedInstance:function(){if(!j){j=new a.LocalStorage()}return j}}}}),e=a({name:"DataMap",parent:h,constructor:function(){var j=[],k={};return{data:function(l){if(arguments.length==0){return k}k=l},get:function(l){return k[l]},put:function(l,m){if(k[l]==d){j.push(l)}k[l]=m},remove:function(l){k[l]=d;delete k[l];Array.remove(j,l)},each:function(n){if(typeof n!="function"){return}for(var m=0,o=j.length;m<o;m++){var l=j[m];var p=k[l];n.call(this,l,p,m)}},entrys:function(){var n=j.length;var m=new Array(n);for(var l=0;l<n;l++){m[l]={key:j[l],value:k[l]}}return m},isEmpty:function(){return j.length==0},size:function(){return j.length}}}});UI.register("UserDefaults",b);UI.register("LocalStorage",g);UI.register("DataMap",e)})(window);(function(e,f){var g=function(i,l){var k=(i==f||isNaN(parseFloat(i)))?0:parseFloat(i);var j=(l==f||isNaN(parseFloat(l)))?0:parseFloat(l);var h={x:k,y:j};h.toString=function(){return JSON.stringify(rect)};return h},c=function(l,i){var h=(l==f||isNaN(parseFloat(l)))?0:parseFloat(l);var k=(i==f||isNaN(parseFloat(i)))?0:parseFloat(i);var j={width:h,height:k};j.toString=function(){return JSON.stringify(rect)};return j},d=function(o,l,h,p){if(arguments.length==1){var m=o;return new d(m.origin.x,m.origin.y,m.size.width,m.size.height)}var n=(o==f||isNaN(parseFloat(o)))?0:parseFloat(o);var k=(l==f||isNaN(parseFloat(l)))?0:parseFloat(l);var i=(h==f||isNaN(parseFloat(h)))?0:parseFloat(h);var j=(p==f||isNaN(parseFloat(p)))?0:parseFloat(p);var m={origin:new g(n,k),size:new c(i,j)};m.toString=function(){return JSON.stringify(m)};return m},b=function(m,n,i,j){var o=(m==f||isNaN(parseFloat(m)))?0:parseFloat(m);var h=(n==f||isNaN(parseFloat(n)))?0:parseFloat(n);var l=(i==f||isNaN(parseFloat(i)))?0:parseFloat(i);var p=(j==f||isNaN(parseFloat(j)))?0:parseFloat(j);var k={top:o,right:h,bottom:l,left:p};k.toString=function(){return JSON.stringify(rect)};return k};var a=function(k){var o,i,m,l={top:0,left:0},j={top:0,left:0};if(!document.documentElement.contains(k)){return new g(j.left,j.top)}var h=k.ownerDocument.defaultView.getComputedStyle(k,null);m=h.position;l=(!(m==="fixed"||m==="absolute")&&k.getBoundingClientRect!==f)?k.getBoundingClientRect():{top:k.offsetTop,left:k.offsetLeft};var i=document.documentElement;var o=k!==e?e:(k.nodeType===9?k.defaultView||k.parentWindow:f);var n={top:(o.pageYOffset||i.scrollTop),left:(o.pageXOffset||i.scrollLeft)};var p={top:(i.clientTop||0),left:(i.clientLeft||0)};j={top:l.top+n.top-p.top,left:l.left+n.left-p.left};return new g(j.left,j.top)};g.fromElement=a;UI.register("UIPoint",g);UI.register("UISize",c);UI.register("UIRect",d);UI.register("UIEdgeInsets",b)})(window);(function(b,c){var a=function a(j){this.ok=false;if(j.charAt(0)=="#"){j=j.substr(1,6)}j=j.replace(/ /g,"");j=j.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var k in e){if(j==k){j=e[k]}}var h=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(i){return[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}}];for(var f=0;f<h.length;f++){var m=h[f].re;var d=h[f].process;var l=m.exec(j);if(l){var g=d(l);this.r=g[0];this.g=g[1];this.b=g[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var o=this.r.toString(16);var n=this.g.toString(16);var i=this.b.toString(16);if(o.length==1){o="0"+o}if(n.length==1){n="0"+n}if(i.length==1){i="0"+i}return"#"+o+n+i}};UI.register("RGBColor",a)})(window);(function(d,g){var b=UI.Class,c=UI.Helper,a=UI.RGBColor,f=b.Core,e={Linear:function(i,j,k,l){if(i<=0){return j}else{if(i>=1){return k}}return i*k+(1-i)*j},Quad:{easeIn:function(i,j,k,l){return e.Linear(i*i,j,k)},easeOut:function(i,j,k,l){return e.Linear((2-i)*i,j,k)},easeInOut:function(j,k,l,m){var i=j;j/=m/2;if(j<1){return e.Linear(j*j,k,l+(k-l)*0.5)}j=i;return e.Linear((2-j)*j,k-(k-l)*0.5,l)}},Bounce:{easeOut:function(i,j,k,l){debug.log(i);if(i*2<1){return e.Linear(i*i,j,k)}return e.Linear((2-i)*i*-1,j,k)}}},h=b({name:"Tween",parent:f,constructor:function(){var s,o=0,p={delay:0,top:g,left:g,right:g,bottom:g,width:g,height:g,scale:1,ease:e.Linear,transform:{rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},skew:{x:0,y:0},matrix:{x:0,x2:0,x3:0,y:0,y2:0,y3:0,z:0,z2:0,z3:0,d:0,d2:0,d3:0,tx:0,ty:0,tz:0,td:0}},shadow:0,opacity:1,css:{backgroundColor:new a("white")},onBefore:UI.Constants.NULL_FUNCTION,onStart:UI.Constants.NULL_FUNCTION,onUpdate:UI.Constants.NULL_FUNCTION,onComplete:UI.Constants.NULL_FUNCTION},j={top:0,left:0,right:0,bottom:0,width:0,height:0,transform:{rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},skew:{x:0,y:0},matrix:{x:0,x2:0,x3:0,y:0,y2:0,y3:0,z:0,z2:0,z3:0,d:0,d2:0,d3:0,tx:0,ty:0,tz:0,td:0}},shadow:0,opacity:1,css:{backgroundColor:new a("white")}},l={},m=false,q=false,k=-1,n=function(){},i=function(u){var t=+new Date;setTimeout(function(){u(t)},0)},r=d.cancelAnimationFrame;return{_animationPosition:0,instance:function(){return s},__construct:function(t){s=t;this.init.apply(this,arguments)},_render:function(w){if(m===true){return false}var v=this,t=(k==-1)?(k=w):k,x=w,u=x-t,y=(o==0)?1:((u==0)?0:Math.min(1,u/o));this._animationPosition=y;this._onUpdate(y);return(y===1)},_easingCurve:function(v,w,u){},_curve:function(u,v,t){if(u<=0){return v}else{if(u>=1){return t}}return n.call(this,u,v,t,o)},_requestAnimationFrame:function(){var t=this;if(o==0){t._render(-1);t._onComplete.call(t);return}i(function(){if(!t._render.apply(t,arguments)){if(m==false){t._requestAnimationFrame()}else{if(q==true){setTimeout(function(){t._onComplete.call(t)},0)}}}else{setTimeout(function(){t._onComplete.call(t)},0)}})},_onBefore:function(){if(typeof l.onBefore=="function"){l.onBefore()}},_onStart:function(){k=-1;if(typeof l.onStart=="function"){l.onStart()}},_draw:function(y){var v={};for(var u in l){if(Array.inArray(["left","right","top","bottom","width","height"],u)&&l[u]!=g){v[u]=this._curve(y,j[u],l[u])+"px"}else{if(l[u]!=g&&c.Array.inArray(["opacity"],u)){v[u]=this._curve(y,j[u],l[u])}else{if(l[u]!=g&&c.Array.inArray(["scale"],u)){var z=this._curve(y,j[u],l[u]);s[u](z)}else{if(l[u]!=g&&c.Array.inArray(["css"],u)){for(var A in l.css){if(A=="backgroundColor"){var x=this._curve(y,j.css.backgroundColor.r,l.css.backgroundColor.r);var w=this._curve(y,j.css.backgroundColor.g,l.css.backgroundColor.g);var t=this._curve(y,j.css.backgroundColor.b,l.css.backgroundColor.b);v["background-color"]="rgb("+parseInt(x)+","+parseInt(w)+","+parseInt(t)+")"}}}}}}}s.css(v)},_onUpdate:function(t){if(m==true){return}this._draw(t);if(typeof l.onUpdate=="function"){l.onUpdate(t)}},_onComplete:function(){this._draw(1);if(typeof l.onComplete=="function"){l.onComplete.call(s,this,l)}if(typeof s.__didFinishToTween=="function"){s.__didFinishToTween.call(s,this)}},_vars:function(v){l={};for(var t in p){if(v[t]!=g){var u=typeof p[t];if(u=="object"){if(t==="css"&&v.css.backgroundColor!=g){l.css=l.css||{};l.css.backgroundColor=new a(v.css.backgroundColor)}}else{if(u=="number"){if((""+p[t]).indexOf(".")!==-1){l[t]=parseFloat(v[t])||0}else{l[t]=parseInt(v[t])||0}}else{l[t]=v[t]}}}}},_data:function(){var w=s.element();var v=s.size();var u=s.css("background-color");var x=v.width;var t=v.height;j={left:parseFloat(s.css("left")),top:parseFloat(s.css("top")),width:x,height:t,scale:s.scale(),opacity:(w.style.opacity)?parseInt(w.style.opacity):1,css:{backgroundColor:u}};if(s.css("right")!=="auto"&&!isNaN(parseInt(s.css("right")))){j.right=parseInt(s.css("right"))}if(s.css("bottom")!=="auto"&&!isNaN(parseInt(s.css("bottom")))){j.bottom=parseInt(s.css("bottom"))}},init:function(t){var u=["ms","moz","webkit","o"];var v=u.length;while(--v>-1&&!i){}},killTo:function(t){m=true;q=t;if(typeof s.__didFinishToTween=="function"){s.__didFinishToTween.call(s,this)}},set:function(u,t){o=u*1000;n=l.ease||e.Linear;this._vars(t)},to:function(u,t){m=false;q=false;this.set(u,t);this.start()},start:function(){if(h.slowAnimation===true){o=o*10}this._onBefore();this._onStart();this._data();this._requestAnimationFrame()}}},"static":function(){return{slowAnimation:false,set:function(l,k,j){var i=new h(l);i.set(k,j);return i},to:function(l,k,j){var i=new h(l);i.to(k,j);return i}}}});h.Easing=e;UI.register("Tween",h)})(window);(function(g,d){var b=UI.Class,f=b.Core,c=b.IObject,h=b({name:"Event",parent:f,constructor:function(){return{__construct:function(r,j){var q=(r!=d&&r[0]!=d)?r[0]:d;if(q!=d&&q.pageX!=d&&q.pageY!=d){return{offsetX:q.pageX,offsetY:q.pageY}}var l=(r!=d&&r.length>0)?r[0].clientX:j.clientX;var k=(r!=d&&r.length>0)?r[0].clientY:j.clientY;var r=[];var x,n,s,t;var v=j.target||j.srcElement;t=g;x=v&&v.ownerDocument;n=x.documentElement;s=x.body;var p=n.clientTop||s.clientTop||0;var u=n.clientLeft||s.clientLeft||0;var m=t.pageYOffset||n.scrollTop;var o=t.pageXOffset||n.scrollLeft;var w=j.type;this["phase"]=w;this["touches"]=r;this["clientX"]=l;this["clientY"]=k;this["offsetX"]=l+o-u;this["offsetY"]=k+m-p}}},"static":function(){var j;return{eventUID:0,hasTouch:"ontouchstart" in g,manager:function(){if(!j){j=new e()}return j}}}}),a={Start:h.hasTouch?"touchstart":"mousedown",Move:h.hasTouch?"touchmove":"mousemove",End:h.hasTouch?"touchend":"mouseup",Cancel:"touchcancel"},i=function(j,n){var l=j;var k=j.element?j.element():d;var m=n;var o=[];return{bindedHandlers:function(){return o},addEventListener:function(q,p){if(typeof q!="function"){return}o[o.length]=q},removeEventListener:function(q,p){Array.remove(o,q)},dispatchEvent:function(){var p=arguments;Array.each(o,function(q,r){r.apply(l,p)})}}},e=function(){var j={};return{bindedEvent:function(k,m){var n=m;var l=k.eventUID();j[l]=(j[l])?j[l]:{};j[l][n]=(j[l][n])?j[l][n]:new i(k,n);return j[l][n]},add:function(k,n,p,l){var o=n;var m=k.eventUID();j[m]=(j[m])?j[m]:{};j[m][o]=(j[m][o])?j[m][o]:new i(k,o);j[m][o].addEventListener(p,l)},remove:function(k,m,o){var n=m;var l=k.eventUID();j[l]=(j[l])?j[l]:{};j[l][n]=(j[l][n])?j[l][n]:new i(k,n);j[l][n].removeEventListener(o)},trigger:function(k,m){var n=m.split(".")[0];var l=k.eventUID();if(j[l][n]!=d){j[l][n].trigger}}}};UI.register("TouchEvent",a);UI.register("Event",h)})(window);(function(n,g){var b=UI.Class,i=UI.Helper,m=b.Core,q=b.Event,f=UI.UIPoint,d=UI.UISize,p=UI.UIRect,h=UI.UIEdgeInsets,o=UI.Tween,a=UI.RGBColor,e=b({name:"IObject",parent:m,constructor:function(){return{__construct:function(){this.init.apply(this,arguments)},init:function(){return this}}}}),k=b({name:"Responder",parent:e,constructor:function(){var r;return{eventUID:function(){if(!r){r="Event."+c.guid++}return r},context:function(t,s){var s=s||this;return(function(){return t.apply(s,arguments)})},eventHandlers:function(s){return q.manager().bindedEvent(this,s).bindedHandlers()},addEventListener:function(t,s){if(typeof s!="function"){return}q.manager().add(this,t,s)},removeEventListener:function(t,s){q.manager().remove(this,t,s)},dispatchEvent:function(u){var s=Array.prototype.slice.call(arguments,0);s.shift();var t=q.manager().bindedEvent(this,u);t.dispatchEvent.apply(t,s)},bind:function(t,s){this.addEventListener.apply(this,arguments);return this},unbind:function(t,s){this.removeEventListener.apply(this,arguments);return this},trigger:function(){this.dispatchEvent.apply(this,arguments);return this}}}}),c=b({name:"Element",parent:k,constructor:function(){var u,t=null,s=false,r=[],y=[],v=1,x=[];var w={};return{__captureElement:function(z){var A=z;if(z==g){z=g}else{if(typeof z=="string"){z=document.createElement(z.toUpperCase())}else{if(typeof z=="object"){if(z.jquery){z=z.get(0)}}}}return z},__isElement:function(z){if(typeof z==="object"&&z.nodeType!==g){return true}return false},__setElement:function(z){var z=this.__captureElement(z);if(this.__isElement(z)){u=z;this._addInstance()}},__construct:function(A){var z=Array.prototype.slice.call(arguments,1);t=this;this.__setElement(A);z.unshift(u);this.init.apply(this,z)},__destruct:function(){if(u){u=g}},_addInstance:function(){var z,A;z=i.String.guid("UIKit.xxxxxxxx")+"."+c.guid++;A=this.attribute("data-instance-id")?(" "+this.attribute("data-instance-id")+" ").replace(/[\t\r\n\f]/g," "):" ";if(A){if(A.indexOf(" "+z+" ")<0){A+=z+" "}A=trim(A);this.attribute("data-instance-id",A)}this.instanceID=z;UI.manager.add(this)},_removeInstance:function(B){UI.manager.remove(this);var z,A;z=this.instanceID;A=this.attribute("data-instance-id")?(" "+this.attribute("data-instance-id")+" ").replace(/[\t\r\n\f]/g," "):" ";if(A){while(A.indexOf(" "+z+" ")>=0){A=A.replace(" "+z+" "," ")}A=trim(A);this.attribute("data-instance-id",A)}},_instance:function(){return t},instanceID:0,init:function(z){return this},parent:function(){if(!this.hasElement()){return g}return u.parentNode},children:function(){if(!this.hasElement()){return[]}var z=[];Array.each(u.children,function(B,A){if(A.nodeType===1){z.push(A)}});return z},removeFromParent:function(){if(!this.hasElement()){return}if(this.parent()&&u){this.parent().removeChild(u)}},destroy:function(z){this._removePlugins();this._removeInstance();if(z===true){this.removeFromParent()}this._super("destroy",arguments)},hasElement:function(){return this.__isElement(u)?true:false},window:function(){return n},element:function(){return u},_removePlugins:function(){for(var z in y){var A=y[z];A.destroy()}y=[]},plugins:function(){return y},plugin:function(){for(var A in arguments){var C="UIPlugin"+String.ucfirst(arguments[A]);if(UI.Class[C]!==g){var z=UI.Class[C];var B=new z(this);y.push(B)}}this._plugins=y},style:function(A,D){if(!this.hasElement()){return}if(A.indexOf("-")!==-1){var z=A.split("-");var B=z.shift();Array.each(z,function(F,G){B+=String.ucfirst(G)});A=B}var C=u.style;var E={columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true};if(typeof D==="number"&&!E[A]){D+="px"}if(D===""&&A.indexOf("background")===0){C[A]="inherit"}else{C[A]=D}},find:function(z){if(!this.hasElement()){return[]}return u.querySelectorAll(z)},css:function(A){if(!this.hasElement()){return}if(Object.isObject(A)===true){for(var z in A){this.style(z,A[z])}return}var D={};var B=u.ownerDocument.defaultView.getComputedStyle(u,null);if(typeof A==="string"){var C=B[A];if(typeof C==="string"&&(C.indexOf("rgb")!==-1||C.indexOf("#")!==-1)){C=new a(C)}return C}for(var z in B){if(isNaN(parseInt(z))&&z!=="cssText"){var C=B[z];if(typeof C==="string"&&(C.indexOf("rgb")!==-1||C.indexOf("#")!==-1)){C=new a(C)}D[z]=C}}return D},hasClass:function(z){if(!this.hasElement()){return false}var A=" "+z+" ";if(u.nodeType===1&&(" "+u.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(A)>=0){return true}return false},addClass:function(B){if(!this.hasElement()){return}var z,A,C;B=(B||"").match(/\S+/g)||[];A=u.nodeType===1&&(u.className?(" "+u.className+" ").replace(/[\t\r\n\f]/g," "):" ");if(A){C=0;while((z=B[C++])){if(A.indexOf(" "+z+" ")<0){A+=z+" "}}A=trim(A);if(u.className!==A){u.className=A}}},removeClass:function(B){if(!this.hasElement()){return}var z,A,C;B=(B||"").match(/\S+/g)||[];A=u.nodeType===1&&(u.className?(" "+u.className+" ").replace(/[\t\r\n\f]/g," "):" ");if(A){C=0;while((z=B[C++])){while(A.indexOf(" "+z+" ")>=0){A=A.replace(" "+z+" "," ")}}A=trim(A);if(u.className!==A){u.className=A}}},val:function(z){if(!this.hasElement()||u.value===g){return}if(arguments.length===0){return u.value||""}u.value=z},isHidden:function(){if(!this.hasElement()){return true}return(this.css("display")==="none"||!u.ownerDocument.contains(u))},showHide:function(z){if(!this.hasElement()){return}var B,A;B=u.style.display;if(z){if(B==="none"){u.style.display=""}}else{A=this.isHidden();if(B&&B!=="none"||!A){elem.style.display="none"}}},show:function(){this.showHide(true)},hide:function(){this.showHide(false)},addGestureRecognizer:function(z){if(!Array.inArray(x,z)){if(z._gestureObject()){z._gestureObject().removeGestureRecognizer.call(z._gestureObject(),z)}Array.add(x,z);z._gestureObject(this)}},removeGestureRecognizer:function(z){if(Array.inArray(x,z)){z._gestureObject(null);Array.remove(x,z)}},scale:function(z){if(!this.hasElement()){return v}if(arguments.length==0){return v}v=z;u.style.cssText+="-webkit-transform:scale("+v+", "+v+");"},width:function(){return this.size().width},height:function(){return this.size().height},size:function(){if(!this.hasElement()){return new d()}var A=this.css("width")||u.offsetWidth;var z=this.css("height")||u.offsetHeight;return new d(A,z)},offset:function(){if(!this.hasElement()){return new f()}return f.fromElement(u)},position:function(){if(!this.hasElement()){return new f()}var C,D,A,z={top:0,left:0},B;D=this.offset();B=u.offsetParent;if(this.css("position")==="fixed"){z=f.fromElement(B);if(this.parent()){A=u.ownerDocument.defaultView.getComputedStyle(this.parent(),null);z.x=z.x+parseInt(A.borderLeftWidth);z.y=z.y+parseInt(A.borderTopWidth)}}else{z.x=0;z.y=0}C={left:D.x-z.x,top:D.y-z.y};return new f(C.left,C.top)},removeAttribute:function(z){if(!this.hasElement()){return}u.removeAttribute(z)},attr:function(){this.attribute.apply(this,arguments)},attribute:function(z,A){if(!this.hasElement()){return}if(A==g){return u.getAttribute(z)}return u.setAttribute(z,A)},attributes:function(){if(!this.hasElement()){return[]}return u.attributes},cloneElement:function(z){if(!this.hasElement()){return null}var A=u.cloneNode(z);A.removeAttribute("data-instance-id");function B(C){Array.each(C,function(E,D){if(D.nodeType===1){D.removeAttribute("data-instance-id");if(D.children){B(D.children)}}})}B(A.children);A.innerHeight=A.innerHeight;return A},insertBefore:function(A){var z=A.element();if(z){z=(z.length)?z[0]:z;if(z.nodeType===1||z.nodeType===11||z.nodeType===9){this.parent().insertBefore(z,u);return this}}return false},insertAfter:function(A){var z=A.element();if(z){z=(z.length)?z[0]:z;if(z.nodeType===1||z.nodeType===11||z.nodeType===9){this.parent().insertBefore(z,u.nextSibling);return this}}return false},append:function(B,A){if(!this.hasElement()){return}var z=B.element();if(z.nodeType===1||z.nodeType===11||z.nodeType===9){if(u!==z){u.appendChild(z)}}},remove:function(B,A){if(B===g){this.destroy(true);return}if(!this.hasElement()){return}var z=B.element();z=(z&&z.jquery)?z.get(0):z;u.removeChild(z)},empty:function(){if(!this.hasElement()){return}u.innerHTML=""},appendHTML:function(z){if(!this.hasElement()){return}u.innerHTML+=z},html:function(z){if(!this.hasElement()){return}u.innerHTML=z},data:function(z,B){if(z===g){var A={},C=/^data\-(.+)$/;Array.each(this.attributes(),function(E,D){if(C.test(D.nodeName)){var F=D.nodeName.match(C)[1];A[F]=D.nodeValue}});return A}if(B===g){return this.attribute("data-"+z)}this.attribute("data-"+z,B)},addEventListener:function(E,B,z){this._super("addEventListener",arguments);if(!this.hasElement()){return}var D=this;var A=E.split(".")[0];var C={eventKey:E.split(".")[1],handler:B,nativeCallback:function(){var F=Array.prototype.slice.call(arguments,0);F.unshift(E);D.dispatchEvent.apply(D,F)}};if(w[A]==g){w[A]=[]}w[A].push(C);if(u.attachEvent){u.attachEvent(A,C.nativeCallback)}else{u.addEventListener(A,C.nativeCallback,z||false)}},removeEventListener:function(E,C,z){this._super("removeEventListener",arguments);if(!this.hasElement()){return}var A=E.split(".")[0];var B=E.split(".")[1];var F;if(B!=g){F=[];$.each(w[A],function(){if(this.eventKey==B){F.push(this)}})}else{F=w[A]}var D=this;if(Array.isArray(F)){if(typeof C==="function"){$.each(F,function(){if(this.handler==C){if(u.detachEvent){u.detachEvent(A,this.nativeCallback)}else{u.removeEventListener(A,this.nativeCallback)}}})}else{$.each(F,function(){if(u.detachEvent){u.detachEvent(A,this.nativeCallback)}else{u.removeEventListener(A,this.nativeCallback)}})}}},killAnimation:function(C){if(r.length.length==0){return}var B=r;r=[];for(var A=0;A<B.length;A++){var z=B[A];z.killTo((A==B.length-1)?C:false);l.remove(z)}},animate:function(B,A){var z=new o(this);z.set(B,A);r.push(z);if(A.inQueue===true){l.push(z);l.start()}else{z.start()}},_tweens:function(){return r},_firstTween:function(){if(r.length==0){return g}return r[0]},__didFinishToTween:function(z){Array.remove(r,z);l.didFinishToTween(this,z)}}},"static":function(){return{guid:0,createElement:function(t,s){var u=document.createElement(t);for(var r in s){if(r=="text"){text=document.createTextNode(s[r]);u.appendChild(text)}else{if(r=="html"){u.innerHTML=s[r]}}}return u}}}});var l=function(){var r=false,s=[];return{didFinishToTween:function(t,u){if(s.length>0&&u!==s.shift()){console.error("what!!!",u,s,r);return}if(r&&s.length==0){return this.killAll()}setTimeout(function(){l.next()},0)},push:function(t){s.push(t)},remove:function(u){var t=this.first();Array.remove(s,u);if(t===u){this.next()}},first:function(){if(s.length==0){return g}return s[0]},next:function(){var t=this.first();if(t==g){return this.killAll()}if(t==g){return this.killAll()}t.start()},killAll:function(){r=false;s=[]},start:function(){if(r==true){return}r=true;this.next()}}}();var j=function(){var s=[];var r={};return{add:function(t){if(!t.element()||t.element().length==0||!t.element().nodeType||t.element().nodeType!==1){debug.warn("instance is null",t);return}var v=t.instanceID;var u=parseInt(v.split(".")[2]);r[v]=s[u]=t},remove:function(t){if(t.element().length==0){debug.warn("instance is null",t);return}var u=t.instanceID;r[u]=g;delete r[u]},find:function(t,y,x){var v,u=[],w=(typeof y=="function");x=x||this;if(typeof t==="string"){u=document.querySelectorAll(t)}else{if(t.length>0&&t[0].nodeType!=g){u=t}else{if(t.nodeType!=g){u.push(t)}else{if(Array.isArray(t)){Array.each(t,function(z,A){if(b.isClass(A.constructor)){u.push(A.element())}})}}}}if(w){Array.each(u,function(z,A){y.call(this,z,A)},x)}return u},isInstance:function(t,u){if(t===g){return false}if(t.constructor!=g&&u!=g){if(t.constructor!==u){return false}}return true},instance:function(x,v,w){var A,t,u,B=false;u=this;t=UI.manager.withElement(x);v=typeof v==="string"?(b[v]):v;w=w||[];Array.each(t,function(D,C){if(u.isInstance(C,v)===true){B=true;return false}});if(x!=g&&v!=g&&B===false){if(typeof v=="function"){if(!b.isClass(v)){var z=(typeof x.selector=="string"?function(C){return C.replace(/[\.\-]/gi,"_")}(x.selector):g);v=b({name:z,parent:c,constructor:v})}}var y=w;if(y.length==1){A=new v(x,y[0])}else{if(y.length==2){A=new v(x,y[0],y[1])}else{if(y.length==3){A=new v(x,y[0],y[1],y[2])}else{if(y.length==4){A=new v(x,y[0],y[1],y[2],y[3])}else{if(y.length==5){A=new v(x,y[0],y[1],y[2],y[3],y[4])}else{A=new v(x)}}}}}}else{if(t.length>0){A=t[t.length-1]}}return A},get:function(u,w){if(typeof arguments[0]==="string"){var t=arguments[0];u=this.find(t)}var v=this,x=[],y=Array.prototype.slice.call(arguments,2);Array.each(u,function(A,B){var z=this.instance(B,w,Array.copy(y));x.push(z)},v);return x.length===1?x[0]:x},byID:function(t){return r[t]},atIndex:function(t){return s[t]},withElement:function(v){var u=($(v).attr("data-instance-id")||"").match(/\S+/g)||[];var t=this;var w=[];Array.each(u,function(y,z){var x=t.byID(z);w.push(x)});return w},countOf:function(){return s.length}}};UI.register("manager",new j())})(window);(function(e,g){var c=UI.Class,b=c.Element,f=UI.TouchEvent,d=c({name:"EventDispatcher",parent:b,constructor:function(){var i=false;var h=false;return{_shouldAttemptToRecognize:function(){return this.enabled()},_recognizeEvents:function(l){var j=true;var k=l;if(this._shouldAttemptToRecognize()){switch(k.type){case f.Start:h=true;j=this.eventStart(k);break;case f.Move:if(h==true){j=this.eventDrag(k)}else{j=this.eventMove(k)}break;case f.End:h=false;j=this.eventEnd(k);break;case f.Cancel:h=false;j=this.eventCancel(k);break;default:h=false;break}}return j},_bindEvents:function(){if(i==true){return}i=true;var j=this._instance();if(this.hasElement()){this.bind(f.Start,function(k){return j._recognizeEvents(k)});this.bind(f.Move,function(k){return j._recognizeEvents(k)});this.bind(f.End,function(k){return j._recognizeEvents(k)});if(!Event.hasTouch){}else{this.bind(f.Cancel,function(k){return j._recognizeEvents(k)})}}},init:function(){var j;if(j){return this}},destroy:function(){if(i==true){this.unbind(f.Start);this.unbind(f.Move);this.unbind(f.End);this.unbind(f.Cancel);i=false}this._super().destroy.apply(this._super(),arguments)},eventMove:function(j){return true},eventStart:function(j){return true},eventDrag:function(j){return true},eventEnd:function(j){return true},eventEnter:function(j){return true},eventLeave:function(j){return true},eventCancel:function(j){return true}}}}),a=c({name:"UIView",parent:d,constructor:function(){var h=[];return{addSubview:function(i){h.push(i);this.element().appendChild(i.element());this.needsDisplay()},superview:function(){return this.parent},removeFromSuperview:function(){var i=this.superview();this.remove();i.needsDisplay()},needsDisplay:function(){}}}})})(window);(function(d,f){var c=UI.Class,b=c.Responder,e=c({name:"UIController",parent:b,constructor:function(){var g;return{__construct:function(){g=this;this.init.apply(this,arguments)},__destruct:function(){g=f},init:function(){return this}}}}),a=c({name:"UIMacroController",parent:e,constructor:function(){return{init:function(){var g=this._super("init",arguments);if(g){return this}}}}})})(window);(function(b,f){var a=UI.Class,e=function(h,g){return{userInfo:h,arguments:g}},d=function(h,g){return{post:function(){g.apply(h,arguments)}}},c=function(){var g={};return{addObserver:function(m,k,l){if(k.indexOf("")!==-1){var j=k.split(" ");var i=this;if(j.length>1){Array.each(j,function(n,o){i.addObserver(m,o,l)});return}}if(g[k]==f){g[k]=[]}var h=new d(m,l);g[k].push(h)},postNotification:function(i,l){if(g[i]==f){return}var h=Array.prototype.slice.call(arguments,0);h.shift();var k=new e(l,h);var j=g[i];Array.each(j,function(n,m){m.post.call(m,k)})}}};e.defaultCenter=new c();if(UI.Notification===f){UI.Notification=e}})(window);(function(window,undefined){var EscapeStrings={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},ReqularExpression={white:/\s*/,space:/\s+/,equals:/\s*=/,curly:/\s*\}/,nonSpace:/\S/,variable:/\$[\w'-]*/,command:/if|loop|\=|\//},Config={tags:["{{","}}"]},Context=function Context(data,parent){var _data=data,_parent=parent;return{get:function(key){if(isVariable(key)){key=getVariable(key)}if(key==="this"){return _data}return _data[key]},convert:function(string){var match=string.match(/\$[\w'-]*/g);if(match&&match.length>0){var i,key,value;for(i in match){key=getVariable(match[i]);value=this.get(key);if(key==="this"){value=_data}if(typeof value==="string"){string=string.replace(match[i],"'"+value+"'")}else{if(typeof value==="number"){string=string.replace(match[i],value)}else{if(typeof value==="object"){}}}}}return string},parent:function(){return _parent},data:function(){return _data},child:function(value){return new Context(value,this)}}},Template=function Template(html){var _tokens=[];return{parse:function(html,tags){_tokens=parseHTML(html,tags)},render:function(data){var context=new Context(data);return this.renderTokens(_tokens,context,0)},renderTokens:function(tokens,context,depth){var buffer="";var self=this;var token,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token.type){case"loop":value=context.get(token.value);if(!value){continue}if(Array.isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token.data,context.child(value[j]),depth+1)}}else{if(typeof value==="object"||typeof value==="string"){buffer+=this.renderTokens(token.data,context.child(value),depth+1)}else{if(isFunction(value)){}else{buffer+=this.renderTokens(token.data,context,depth+1)}}}break;case"if":value=context.convert(token.value);if(eval(value)===true){buffer+=this.renderTokens(token.data,context,depth+1)}break;case"=":case"name":value=context.get(token.value);if(typeof value==="object"){value=JSON.stringify(value)}if(value!=null){buffer+=escapeHTML(value)}break;case"text":buffer+=token.value;break}}return buffer},tokens:function(){return _tokens}}},TemplateManager=(function TemplateManager(){var _cached={};return{get:function(selector){if(_cached[selector]){return _cached[selector]}return _cached[selector]=$(selector).html()},parse:function(html){var template=new Template();template.parse(html);return template},render:function(template,data){if(typeof template==="string"){template=this.parse(template)}return template.render(data)}}})();function parseHTML(html,tags){if(!html){return[]}var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;var regExp={};function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length){delete tokens[spaces.pop()]}}else{spaces=[]}hasTag=false;nonSpace=false}function compileTags(tags){if(typeof tags==="string"){tags=tags.split(ReqularExpression.space,2)}if(!Array.isArray(tags)||tags.length!==2){throw new Error("Invalid tags: "+tags)}regExp.openingTag=new RegExp(escapeRegExp(tags[0])+"\\s*");regExp.closingTag=new RegExp("\\s*"+escapeRegExp(tags[1]));regExp.closingCurly=new RegExp("\\s*"+escapeRegExp("}"+tags[1]))}compileTags(tags||Config.tags);var scanner=new Scanner(html);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(regExp.openingTag);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push({type:"text",value:chr,start:start,end:start+1})}start=start+1;if(chr==="\n"){stripSpace()}}if(!scanner.scan(regExp.openingTag)){break}hasTag=true;type=scanner.scan(ReqularExpression.command)||"name";scanner.scan(ReqularExpression.white);value=scanner.scanUntil(regExp.closingTag);if(!scanner.scan(regExp.closingTag)){throw new Error("Unclosed tag at "+scanner.pos)}token={type:type,value:value,start:start,end:scanner.pos};tokens.push(token);if(type==="loop"||type==="if"){sections.push(token)}else{if(type==="/"){openSection=sections.pop()}}}openSection=sections.pop();if(openSection){throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos)}return nestTokens(squashTokens(tokens))}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||match.index!==0){return""}var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function(re){var index=this.tail.search(re),match;switch(index){case -1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function isFunction(object){return typeof object==="function"}function isWhitespace(string){return !RegExp.prototype.test.call(ReqularExpression.nonSpace,string)}function isVariable(string){return RegExp.prototype.test.call(ReqularExpression.variable,string)}function getVariable(string){var index=string.search(/\$/);if(index>-1){return string.substring(index+1)}return string}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function escapeHTML(string){return String(string).replace(/[&<>"'\/]/g,function(s){return EscapeStrings[s]})}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token.type){case"loop":case"if":collector.push(token);sections.push(token);collector=token.data=[];break;case"/":section=sections.pop();if(section){section.offset=token.start;collector=sections.length>0?sections[sections.length-1].data:nestedTokens}break;default:collector.push(token)}}return nestedTokens}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token.type==="text"&&lastToken&&lastToken.type==="text"){lastToken.value+=token.value;lastToken.end=token.end}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}UI.register("Template",TemplateManager)})(window);(function(j,c){var i="{{VERSION}}",a=UI.Class,h=UI.Core,g=UI.Helper,b=a.Element,k=a.Tween,f=(function f(n){var l=n.defaultOptions||{},o=n.surrogateKeys||{},m=n.enumsKeys||{},p=n.property||{};return{createProperties:function(s,q){var r={};for(var t in p){(function(y){var v=p[y];var u="get"+g.String.ucfirst(y);var x="set"+g.String.ucfirst(y);var w="@"+y;s[w]=v;q[u]=function(){return s[w]};q[x]=function(z){if(z==c||typeof s[w]!==typeof z){console.warn("ignore properties - method = "+z);return}s[w]=z}})(t)}return r},convertOptions:function(t){var u,s,q=g.Object.clone(l);var r=function(v){if(typeof v==="object"){g.Object.each(v,function(w,y){var x=w.toLowerCase();v[x]=r(y)})}return v};u=r(t);s=r(o);g.Object.each(q,function(C,B){var A,y;y=C.toLowerCase();if(typeof s[y]!=="undefined"){A=s[y];if(q[A]===c){q[A]=u[y]}}if(typeof u==="object"&&typeof u[y]!=="undefined"){if(typeof q[C]!=="undefined"){var v=q[C];var w=u[y];if(g.Array.isArray(v)){q[C]=w}else{if(Object.prototype.toString.call(v)==="[object Object]"){for(var z in v){var D=z.toLowerCase();if(typeof w[D]!=="undefined"){v[z]=w[D]}}q[C]=v}else{if(Object.prototype.toString.call(v)==="[object Array]"){for(var x=0;x<v.length;x++){if(typeof w[x]!=="undefined"){v[z]=w[x]}}q[C]=v}else{if(Object.prototype.toString.call(v)==="[object Date]"){q[C]=w}else{if(Object.prototype.toString.call(v)==="[object Number]"){q[C]=w}else{q[C]=w}}}}}}else{q[C]=u[y]}}});g.Object.each(t,function(v,w){if(typeof w!=="undefined"&&typeof q[v]==="undefined"){}});return q}}}),e=a({name:"UICore",parent:b,constructor:function(){var m={options:{},properties:{},jqueryElement:[]};var l={__loadSettings:function(o,n){if(this.__class._setting){if(this.__parent._setting){this.__class._setting=g.Object.extend(this.__class._setting,this.__parent._setting)}var p=new f(this.__class._setting);m.properties=p.createProperties(this,this.__class.prototype);m.options=p.convertOptions(n)}else{if(this.__parent._setting){var p=new f(this.__parent._setting);m.properties=p.createProperties(this,this.__parent.prototype);m.options=p.convertOptions(n)}}},__loadJqueryElement:function(o){if(this.__isElement(o)){var n=$(o);m.jqueryElement=n;var p=this.__name;var q=p.substr(2)}},init:function(o){var n=this._super("init",arguments);if(n){this.__loadSettings.apply(this,arguments);this.__loadJqueryElement(o);return this}},_properties:function(p){if(arguments.length>0){var n=[];if(p.indexOf(".")!==-1){n=p.split(".")}else{n.push(p)}var q=m.properties;var o=n.pop();while(n.length>0){var r=n.shift();if(q[r]==c){q=c;break}q=q[r]}return q&&o?q[o]:c}return m.properties},_options:function(q){if(arguments.length>0){var n=[];if(q.indexOf(".")!==-1){n=q.split(".")}else{n.push(q)}var o=m.options;var p=n.pop();while(n.length>0){var r=n.shift();if(o[r]==c){o=c;break}o=o[r]}return o&&p?o[p]:c}return m.options},_dispatchEventHandler:function(n){var o=Array.prototype.slice.call(arguments,1);o.unshift(this);o.unshift(n);this.dispatchEvent.apply(this,o);if(typeof m.options[n+"Handler"]==="function"){m.options[n+"Handler"].apply(this,arguments)}}};return l}}),d=a({name:"UIKit",parent:e,"static":{version:i,cssPrefix:(function(){if(typeof j.__UIKIT_CSS_PREFIX__==="string"){return j.__UIKIT_CSS_PREFIX__}return"mui-"})(j),apply:function(l,n){var m={};if(l.jquery==c||l.length<1){return}$.each(l,function(s,r){var v=$(r);if(v.attr("data-instance-id")){return}var u=v.instance(),p=v.prop("tagName").toUpperCase();if(!u&&v.attr("data-instance")){var t=v.attr("data-instance"),o=v.attr("id"),q=v[0].attributes,w={};g.Object.each(q,function(z,B){if(!isNaN(parseInt(z))){if(B.name.indexOf("data")===0){var y=B.name.split("-");y.shift();var C=B.value;if(typeof C==="string"){try{C=JSON.parse(C)}catch(D){C=B.value}}else{C=c}var x=y.shift();if(y.length>0){if(w[x]==c){w[x]={}}var E=w[x];var A=y.pop();E[A]=C;w[x]=E}else{w[x]=C}}}});if(t){u=v.instance(t,w)}}if(u){if(!m[p]){m[p]=[]}m[p][m[p].length]=u;if(typeof o=="string"&&o.length>0){m["#"+o]=u}}if(n){n.call(null,s,u)}});return m},update:function(m,n){if(m==c){m=$(document.body)}else{if(m.jquery==c||m.length<1){return}}var l=$.merge(m.filter("[data-instance]"),m.find("[data-instance]"));d.apply(l,n)}},constructor:{}});j.UIKit=d;if(j.jQuery!==c){jQuery.fn.instance=function(p){var n=Array.prototype.slice.call(arguments,0),o=UI.manager;if(this.length===1){var l,q=this.get(0);n.unshift([q]);l=o.get.apply(o,n);return l}var r,m=[];this.each(function(s,t){m.push(t)});n.unshift(m);r=o.get.apply(o,n);return $(r)};jQuery.instance=UI.manager;$(function(){d.apply($("[data-instance]"))})}})(window);(function(i,e){var h=UI.Helper,b=UI.Class,c=b.Element,j=b.Tween,g=b.UICore,d=b.UIKit.cssPrefix,f=b({name:"UIScrollContainer",parent:c,constructor:function(){return{}}}),l=function l(n){var m={contentInset:{top:0,left:0,right:0,bottom:0},contentOffset:{x:0,y:0},contentSize:{width:0,height:0},frameSize:{width:0,height:0},pagingSize:{width:0,height:0},allowScrollOffset:{minX:0,minY:0,maxX:0,maxY:0},scrolling:false,scrollBounceVertical:false,scrollBounceHorizontal:false,alwaysScrollBounceVertical:false,alwaysScrollBounceHorizontal:false,usePaging:false,useScrollBounceVertical:false,useScrollBounceHorizontal:false,useScrollbar:false,useWheelMouse:false,useMouseLeave:false,useDecelerating:false,interaction:{hasTouch:("ontouchstart" in i)?true:false,target:n,startTime:0,beginPoint:{x:0,y:0},currentPoint:{x:0,y:0},dragOffset:{x:0,y:0},dragging:false,startInteraction:false,clickable:false,globalUp:false,globalMove:false,wheelTimeout:null},scrollX:false,scrollY:true,fadeScrollbars:true};return m},k=b({name:"UIScrollBar",parent:g,constructor:function(){var o,n,p;o=new c("SPAN");var m;return{init:function(s,r){var q=this._super("init",arguments);if(q){p=(typeof r==="string"&&r.toLowerCase()==="horizontal")?"horizontal":"vertical";this.__setting();this.addClass(d+"scrollbar");this.addClass(d+p);o.addClass(d+"scrollbar-thumb");this.append(o);return this}},__setting:function(){if(p==="horizontal"){this.scroll=this.__scrollHorizontal;this.update=this.__updateHorizontal}else{if(p==="vertical"){this.scroll=this.__scrollVertical;this.update=this.__updateVertical}}},__scrollHorizontal:function(s,r){n=r;var q=(s/(n.contentSize.width-n.frameSize.width))*(o.width()-this.width())*-1;q=Math.min(Math.max(q,0),n.frameSize.width-this.__precision(o.css("width").replace("px","")));this.thumbCss({left:q})},__scrollVertical:function(s,r){n=r;var q=(s/(n.contentSize.height-n.frameSize.height))*(o.height()-this.height())*-1;q=Math.min(Math.max(q,0),n.frameSize.height-this.__precision(o.css("height").replace("px","")));this.thumbCss({top:q})},scroll:function(r,q){},__updateHorizontal:function(t){n=t;var s=(n.contentOffset.x/(n.contentSize.width-n.frameSize.width))*(o.width()-this.width())*-1;var r=Math.min(Math.max((n.frameSize.width/n.contentSize.width),0.1),1);var q=r*this.width();s=Math.min(Math.max(s,0),n.frameSize.width-q);this.thumbCss({opacity:(r===1)?0:1,left:s,width:q});this.__setFadeScrollBar(t.fadeScrollbars)},__updateVertical:function(t){n=t;var s=(n.contentOffset.y/(n.contentSize.height-n.frameSize.height))*(o.height()-this.height())*-1;var r=Math.min(Math.max((n.frameSize.height/n.contentSize.height),0.1),1);var q=r*this.height();s=Math.min(Math.max(s,0),n.frameSize.height-q);this.thumbCss({opacity:(r===1)?0:1,top:s,height:q});this.__setFadeScrollBar(t.fadeScrollbars)},__setFadeScrollBar:function(q){if(q==true){clearTimeout(m);var r=this;m=setTimeout(function(){r.thumbCss({opacity:0})},1500)}},update:function(q){},__precision:function(q){parseFloat(q).toFixed(h.Number.precision(1));return q},thumbCss:function(q){var r=this;var s={};$.each(q,function(t,u){if(!isNaN(u)){if(t=="left"||t=="top"){u=r.__precision(u)}s[t]=u}});o.css(s)}}}}),a=b({name:"Scroll",parent:g,"static":function(){return{_setting:{defaultOptions:{scrollX:false,scrollY:true,useScrollbar:false,flexable:true,fadeScrollbars:true,useWheelMouse:true,useScrollBounceVertical:false,useScrollBounceHorizontal:false,alwaysScrollBounceVertical:false,alwaysScrollBounceHorizontal:false,scrollingHandler:function(){},draggingHandler:function(){},startDraggingHandler:function(){},endDraggingHandler:function(){},finishScrollAnimationHandler:function(){}}}}},constructor:function(){var p,o;var t,n,w,s,r,v,u,m,q;var t=e,n={scrolling:false,dragging:false,startDragging:false,endDragging:false,finishScrollAnimation:false};var x,w={vertical:true,horizontal:true},q=new l();return{init:function(z,A){var y=this._super("init",arguments);if(y){x=this._options();this.currentSize={};p=$(z);o=$(document);this.x=0;this.y=0;this.directionX=0;this.directionY=0;q.alwaysScrollBounceVertical=x.alwaysScrollBounceVertical;q.alwaysScrollBounceHorizontal=x.alwaysScrollBounceHorizontal;if(q.alwaysScrollBounceVertical==true){x.useScrollBounceVertical=true}if(q.alwaysScrollBounceHorizontal==true){x.useScrollBounceHorizontal=true}q.useScrollBounceVertical=x.useScrollBounceVertical;q.useScrollBounceHorizontal=x.useScrollBounceHorizontal;q.useScrollbar=x.useScrollbar;q.scrollX=x.scrollX;q.scrollY=x.scrollY;q.fadeScrollbars=x.fadeScrollbars;q.interaction.target=this;q.frameSize.width=this.width();q.frameSize.height=this.height();this.__createScrollBar();s=p.find("."+d+"scroll-container").first().get(0)||$(z).children().get(0);this.container(s);r=this.context(this._eventHandler);this.__bindEvents();this.useWheelMouse(x.useWheelMouse);this.useMouseLeave(true);this.flexable(x.flexable);this.refresh();if(q.useScrollbar){this.useScrollbar(true)}return this}},_event:function(B){var A=0,z=0,y=0;if(B.originalEvent&&B.originalEvent.touches!=e){var C=B.originalEvent.touches[0];if(C){y=C.timeStamp;A=C.clientX;z=C.clientY}else{y=B.timeStamp;A=B.pageX;z=B.pageY}}else{if(B.touches!=e){var C=B.touches[0];if(C){y=C.timeStamp;A=C.clientX;z=C.clientY}else{y=B.timeStamp;A=B.pageX;z=B.pageY}}else{y=B.timeStamp;A=B.pageX;z=B.pageY}}return{timeStamp:y||(new Date()).getTime(),pageX:A,pageY:z}},_momentum:function(F,z,E,y){var A=0.0006,D={horizontal:{distance:0,speed:0,time:0,decelerating:false},vertical:{distance:0,speed:0,time:0,decelerating:false}};D.vertical.distance=F.y-z.y;D.vertical.speed=Math.abs(D.vertical.distance)/E*0.1;D.vertical.to=(D.vertical.speed*D.vertical.speed)/(2*A)*(D.vertical.distance>0?1:-1);D.vertical.time=Math.round(D.vertical.speed/A);D.top=y.y+D.vertical.to;if(q.scrollBounceVertical===false){D.vertical.time=0;D.top=Math.min(Math.max(D.top*-1,q.allowScrollOffset.minY),q.allowScrollOffset.maxY);D.vertical.decelerating=false}else{if(D.top*-1<q.allowScrollOffset.minY){D.vertical.time=100;D.top=D.vertical.to-q.allowScrollOffset.minY;D.vertical.decelerating=false}else{if(D.top*-1>q.allowScrollOffset.maxY){D.vertical.time=100;D.top=(q.allowScrollOffset.maxY-D.vertical.to)*-1;D.vertical.decelerating=false}else{D.top=y.y+D.vertical.to;D.vertical.decelerating=true}}}D.top=(q.usePaging===true)?Math.round(Math.round(D.top/q.pagingSize.height)*q.pagingSize.height):Math.round(D.top);if(q.useScrollBounceVertical===false){var C=Math.min(Math.max(D.top*-1,q.allowScrollOffset.minY),q.allowScrollOffset.maxY)*-1;if(D.top!==C){D.top=C;D.vertical.decelerating=false}}D.horizontal.distance=F.x-z.x;D.horizontal.speed=Math.abs(D.horizontal.distance)/E*0.1;D.horizontal.to=(D.horizontal.speed*D.horizontal.speed)/(2*A)*(D.horizontal.distance>0?1:-1);D.horizontal.time=Math.round(D.horizontal.speed/A);D.left=y.x+D.horizontal.to;if(q.scrollBounceHorizontal===false){D.horizontal.time=0;D.left=Math.min(Math.max(D.left*-1,q.allowScrollOffset.minX),q.allowScrollOffset.maxX);D.horizontal.decelerating=false}else{if(D.left*-1<q.allowScrollOffset.minX){D.horizontal.time=100;D.left=D.horizontal.to-q.allowScrollOffset.minX;D.horizontal.decelerating=false}else{if(D.left*-1>q.allowScrollOffset.maxX){D.horizontal.time=100;D.top=(q.allowScrollOffset.maxX-D.horizontal.to)*-1;D.horizontal.decelerating=false}else{D.left=y.x+D.horizontal.to;D.horizontal.decelerating=true}}}D.left=(q.usePaging===true)?Math.round(Math.round(D.left/q.pagingSize.width)*q.pagingSize.width):Math.round(D.left);if(q.useScrollBounceHorizontal===false){var B=Math.min(Math.max(D.left*-1,q.allowScrollOffset.minX),q.allowScrollOffset.maxX)*-1;if(D.left!==B){D.left=B;D.horizontal.decelerating=false}}return D},_timeStamp:function(){return(new Date()).getTime()},_start:function(z){var y=this._event(z);this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=y.pageX;this.pointY=y.pageY;q.interaction.startTime=this._timeStamp();q.interaction.beginPoint.x=q.interaction.currentPoint.x=y.pageX;q.interaction.beginPoint.y=q.interaction.currentPoint.y=y.pageY;q.interaction.clickable=true;q.interaction.startInteraction=true;q.interaction.dragOffset.x=0;q.interaction.dragOffset.y=0;m.killAnimation(false);q.interaction.globalUp=true;document.body.addEventListener(q.interaction.hasTouch?"touchend":"mouseup",r,true);return true},_move:function(C){if(q.interaction.startInteraction){var H,A,B,z,G,F,y=this._event(C),H={x:y.pageX,y:y.pageY};A={x:q.interaction.currentPoint.x,y:q.interaction.currentPoint.y};var E=Math.abs(H.x-A.x);var D=Math.abs(H.y-A.y);if(q.scrollX==true&&q.scrollY==true){C.preventDefault()}else{if((x.scrollX==false&&E<D)||(x.scrollY==false&&D<E)){C.preventDefault()}else{return}}if(q.interaction.dragging==false){this._dispatchEventHandler("startDragging",q)}q.interaction.clickable=false;q.interaction.dragging=true;q.interaction.currentPoint.x=y.pageX;q.interaction.currentPoint.y=y.pageY;if(q.interaction.dragging==true){B=A.x-H.x;z=A.y-H.y;if(q.contentOffset.x<q.allowScrollOffset.minX||q.contentOffset.x>q.allowScrollOffset.maxX){B=B*0.5}if(q.contentOffset.y<q.allowScrollOffset.minY||q.contentOffset.y>q.allowScrollOffset.maxY){z=z*0.5}G=q.contentOffset.x+B;F=q.contentOffset.y+z;this.contentOffset({x:G,y:F},{overflowX:q.useScrollBounceHorizontal,overflowY:q.useScrollBounceVertical});q.interaction.dragOffset.x+=B;q.interaction.dragOffset.y+=z;if(q.interaction.globalMove==false){q.interaction.globalMove=true;document.body.addEventListener(q.interaction.hasTouch?"touchmove":"mousemove",r,true)}this._dispatchEventHandler("dragging",q)}}return true},_translate:function(z,A){if(x.useTransform){$("."+d+"scroll-container").css("transform","translate("+0+"px,"+A+"px)"+this.translateZ)}else{A=Math.round(A);$("."+d+"scroll-container").css({left:0,top:A})}this.x=z;this.y=A},_end:function(I,L){this.endTime=(new Date()).getTime();if(q.interaction.globalMove===true){q.interaction.globalMove=false;document.body.removeEventListener(q.interaction.hasTouch?"touchmove":"mousemove",r,true)}if(q.interaction.globalUp===true){q.interaction.globalUp=false;document.body.removeEventListener(q.interaction.hasTouch?"touchend":"mouseup",r,true)}if(q.interaction.startInteraction){var G,K,B,D,A,z=this._event(I);G=(z.timeStamp||this._timeStamp())-q.interaction.startTime;if(q.interaction.dragging==true){q.interaction.dragging=false;this._dispatchEventHandler("endDragging",q);var H,y;if(q.useDecelerating===true&&G<=500){H=m.position();y=this._momentum(q.interaction.currentPoint,q.interaction.beginPoint,G,H);var G=y.vertical.time||y.horizontal.time;if(y.vertical.decelerating==true||y.horizontal.decelerating==true){m.animate(G*0.001,{top:y.top,left:y.left,inQueue:true});var C=Math.min(Math.max(q.contentOffset.x,q.allowScrollOffset.minX),q.allowScrollOffset.maxX);var J=Math.min(Math.max(q.contentOffset.y,q.allowScrollOffset.minY),q.allowScrollOffset.maxY);this.scrollToAnimation({x:C,y:J},{duration:100,inQueue:true})}else{if(q.contentOffset.x==(y.left*-1)&&q.contentOffset.y==(y.top*-1)){G=0}var C=Math.min(Math.max(y.left*-1,q.allowScrollOffset.minX),q.allowScrollOffset.maxX);var J=Math.min(Math.max(y.top*-1,q.allowScrollOffset.minY),q.allowScrollOffset.maxY);this.scrollToAnimation({x:C,y:J},{duration:G})}}else{var F,E;if(q.usePaging!=true){F=q.contentOffset.x;E=q.contentOffset.y}else{var M=70;H=m.position();y=this._momentum(q.interaction.currentPoint,q.interaction.beginPoint,e,H);if(y.horizontal.distance>M){F=Math.floor(q.contentOffset.x/q.pagingSize.width)*q.pagingSize.width}else{if(y.horizontal.distance<-M){F=Math.ceil(q.contentOffset.x/q.pagingSize.width)*q.pagingSize.width}else{F=Math.round(q.contentOffset.x/q.pagingSize.width)*q.pagingSize.width}}if(this.scrollInfo.scrollY==true){if(y.vertical.distance>M){E=Math.floor(q.contentOffset.y/q.pagingSize.height)*q.pagingSize.height}else{if(y.vertical.distance<-M){E=Math.ceil(q.contentOffset.y/q.pagingSize.height)*q.pagingSize.height}else{E=Math.round(q.contentOffset.y/q.pagingSize.height)*q.pagingSize.height}}}}var C=Math.min(Math.max(F,q.allowScrollOffset.minX),q.allowScrollOffset.maxX);var J=Math.min(Math.max(E,q.allowScrollOffset.minY),q.allowScrollOffset.maxY);this.scrollToAnimation({x:C,y:J},{duration:100})}}q.interaction.startInteraction=false}return true},scrollToIndexPage:function(y,z){if(q.usePaging===true){var A=q.pagingSize.width*--y;z=(z==e)?true:z;this.scrollTo({x:A,y:0},z,{duration:200})}},_eventHandler:function(B){if(q.scrollBounceVertical==false&&q.scrollBounceHorizontal==false){return true}var y=true;switch(B.type){case"mousedown":case"touchstart":y=q.interaction.target._start.call(q.interaction.target,B);break;case"mousemove":case"touchmove":this._setCancelTimer();y=q.interaction.target._move.call(q.interaction.target,B);break;case"mouseup":case"mouseleave":case"touchend":clearTimeout(this._cancelTimer);case"touchcancel":clearTimeout(this._cancelTimer);y=q.interaction.target._end.call(q.interaction.target,B,(B.type==="mouseleave"));break;case"mousewheel":if(!q.interaction.startInteraction){var A=B.originalEvent.deltaX;var z=B.originalEvent.deltaY;q.interaction.target.contentOffset({x:(q.contentOffset.x+A),y:(q.contentOffset.y+z)});if(q.usePaging){if(q.interaction.wheelTimeout){clearTimeout(q.interaction.wheelTimeout);q.interaction.wheelTimeout=null}q.interaction.wheelTimeout=setTimeout(function(){q.interaction.wheelTimeout=null;var C=Math.round(q.contentOffset.x/q.frameSize.width)*q.frameSize.width;var F=Math.round(q.contentOffset.y/q.frameSize.height)*q.frameSize.height;var E=Math.min(Math.max(C,q.allowScrollOffset.minX),q.allowScrollOffset.maxX);var D=Math.min(Math.max(F,q.allowScrollOffset.minY),q.allowScrollOffset.maxY);q.interaction.target.scrollToAnimation({x:(E*-1),y:(D*-1)},{duration:100})},100)}}else{if(q.interaction.wheelTimeout){clearTimeout(q.interaction.wheelTimeout);q.interaction.wheelTimeout=null}}if(q.scrollBounceHorizontal&&Math.abs(A)>0&&(q.contentOffset.x==q.allowScrollOffset.minX||q.contentOffset.x==q.allowScrollOffset.maxX)){y=true}else{if(q.scrollBounceVertical&&Math.abs(z)>0&&(q.contentOffset.y==q.allowScrollOffset.minY||q.contentOffset.y==q.allowScrollOffset.maxY)){y=true}else{y=false}}break;case"click":clearTimeout(this._cancelTimer);if(q.interaction.clickable==false){B.stopPropagation();return false}break}return y},_setCancelTimer:function(){if(q.alwaysScrollBounceVertical){clearTimeout(this._cancelTimer);var y=this;this._cancelTimer=setTimeout(function(){y._end({},true)},3000)}},container:function(y){if(arguments.length==0){return s}s=y;m=new f(s);if(w.horizontal){this.css({width:"100%"})}if(w.vertical){this.css({height:"100%"})}this.refresh()},scrollContainer:function(){return m},scrollInfo:function(){return q},__unbindEvents:function(){this.element().removeEventListener("click",r,true);this.element().removeEventListener(q.interaction.hasTouch?"touchstart":"mousedown",r,true);this.element().removeEventListener(q.interaction.hasTouch?"touchmove":"mousemove",r,true);this.element().removeEventListener(q.interaction.hasTouch?"touchend":"mouseup",r,true);if(q.interaction.hasTouch){this.element().removeEventListener("touchcancel",r,true)}p.off("mousewheel."+this.instanceID);p.off("mouseleave."+this.instanceID);o.off("mouseleave."+this.instanceID)},pagingEnabled:function(z,y){q.usePaging=(z===false)?false:true;q.pagingSize.width=q.frameSize.width;q.pagingSize.height=q.frameSize.height;return this},useWheelMouse:function(y){q.useWheelMouse=y;if(q.useWheelMouse===true){p.on("mousewheel."+this.instanceID,r)}else{p.off("mousewheel."+this.instanceID)}},useMouseLeave:function(y){q.useMouseLeave=y;p.on("mouseleave."+this.instanceID,r);o.on("mouseleave."+this.instanceID,r)},useDecelerating:function(y){q.useDecelerating=y},useScrollbar:function(y){if(y===false){if(q.useScrollbar==false){return}q.useScrollbar=false;if(v){this.remove(v)}if(u){this.remove(u)}return}q.useScrollbar=true;this.addClass(d+"scrollbar-hidden");if(v){this.append(v);v.update(q)}if(u){this.append(u);u.update(q)}},scrollBounce:function(y){this.scrollBounceVertical(y);this.scrollBounceHorizontal(y);return this},alwaysScrollBounce:function(y){this.scrollBounce(y);this.alwaysScrollBounceVertical(y);this.alwaysScrollBounceHorizontal(y);this._allowContentOffset();return this},alwaysScrollBounceVertical:function(y){this.scrollBounceVertical(y);q.alwaysScrollBounceVertical=(y==true)?true:false;q.useScrollBounceVertical=(y==true)?true:false;return this},alwaysScrollBounceHorizontal:function(y){this.scrollBounceHorizontal(y);q.alwaysScrollBounceHorizontal=(y==true)?true:false;q.useScrollBounceHorizontal=(y==true)?true:false;return this},scrollBounceVertical:function(y){q.useScrollBounceVertical=(y==true)?true:false;return this},scrollBounceHorizontal:function(y){q.useScrollBounceHorizontal=(y==true)?true:false;return this},__createScrollBar:function(){if(q.scrollY){v=new k(document.createElement("DIV"),"vertical")}if(q.scrollX){u=new k(document.createElement("DIV"),"horizontal")}},__bindEvents:function(){this.element().addEventListener("click",r,true);this.element().addEventListener(q.interaction.hasTouch?"touchstart":"mousedown",r,true);this.element().addEventListener(q.interaction.hasTouch?"touchmove":"mousemove",r,true);this.element().addEventListener(q.interaction.hasTouch?"touchend":"mouseup",r,true);if(q.interaction.hasTouch){this.element().addEventListener("touchcancel",r,true)}},flexable:function(y){w.vertical=y;w.horizontal=y;if(y){this.css({width:"100%",height:"100%"})}else{this.css({width:"",height:""})}},_allowContentOffset:function(){q.scrollBounceHorizontal=q.alwaysScrollBounceHorizontal===true?true:(q.frameSize.width<(q.contentSize.width+q.contentInset.left))?true:false;q.scrollBounceVertical=q.alwaysScrollBounceVertical===true?true:(q.frameSize.height<(q.contentSize.height+q.contentInset.top))?true:false;q.allowScrollOffset.minX=q.scrollBounceHorizontal===false?q.contentInset.left*-1:(q.contentInset.left*-1);q.allowScrollOffset.maxX=q.scrollBounceHorizontal===false?q.allowScrollOffset.minX:Math.max(q.allowScrollOffset.minX,((q.contentSize.width-q.frameSize.width)+q.contentInset.right));q.allowScrollOffset.minY=q.scrollBounceVertical===false?q.contentInset.top*-1:(q.contentInset.top*-1);q.allowScrollOffset.maxY=q.scrollBounceVertical===false?q.allowScrollOffset.minY:Math.max(q.allowScrollOffset.minY,((q.contentSize.height-q.frameSize.height)+q.contentInset.bottom));var z=Math.min(Math.max(q.contentOffset.x,q.allowScrollOffset.minX),q.allowScrollOffset.maxX);var A=Math.min(Math.max(q.contentOffset.y,q.allowScrollOffset.minY),q.allowScrollOffset.maxY);if(z!=q.contentOffset.x||A!=q.contentOffset.y){this.contentOffset({x:z,y:A})}},contentInset:function(z){if(arguments.length==0){return Object.clone(q.contentInset)}for(var y in z){if(q.contentInset[y]!=e&&!isNaN(parseInt(z[y]))){q.contentInset[y]=parseInt(z[y])}}this._allowContentOffset();return this},contentOffset:function(C,A){var z=C.x;var B=C.y;if(q.interaction.wheelTimeout){clearTimeout(q.interaction.wheelTimeout);q.interaction.wheelTimeout=null}if(arguments.length==0){return Object.clone(q.contentOffset)}this.__contentOffsetX(z,A);this.__contentOffsetY(B,A);this._dispatchEventHandler("scrolling",q)},__contentOffsetX:function(y,z){if(y!=e&&u){if(!z||!z.overflowX===true){y=Math.min(Math.max(y,q.allowScrollOffset.minX),q.allowScrollOffset.maxX)}if(this.element()&&this.element().scrollLeft){this.element().scrollLeft=0}m.css({left:Math.round(y*-1)+"px"});q.contentOffset.x=y;u.update(q)}},scrollTop:function(){this.__contentOffsetY(0)},__contentOffsetY:function(A,z){if(A!=e&&v){if(!z||!z.overflowY===true){A=Math.min(Math.max(A,q.allowScrollOffset.minY),q.allowScrollOffset.maxY)}if(this.element()&&this.element().scrollTop){this.element().scrollTop=0}m.css({top:Math.round(A*-1)+"px"});q.contentOffset.y=A;v.update(q)}},__scrollToTop:function(z,y){if(z){this.scrollToAnimation({x:q.contentOffset.x,y:q.contentInset.top},y)}else{this.contentOffset({x:q.contentOffset.x,y:q.contentInset.top},y)}},__scrollToLeft:function(z,y){if(z){this.scrollToAnimation({x:q.contentInset.left,y:q.contentOffset.y},y)}else{this.contentOffset({x:q.contentInset.left,y:q.contentOffset.y},y)}},__scrollToRight:function(A,z){var y=q.contentSize.width-q.frameSize.width;if(y<0){y=0}if(A){this.scrollToAnimation({x:y,y:q.contentOffset.y},z)}else{this.contentOffset({x:y,y:q.contentOffset.y},z)}},__scrollToBottom:function(A,z){var B=q.contentSize.height-q.frameSize.height;if(B<0){B=0}if(A){this.scrollToAnimation({x:q.contentOffset.x,y:B},z)}else{this.contentOffset({x:q.contentOffset.x,y:B},z)}},scrollTo:function(A,z,y){A=this.__getObjectToPos(A);if(z==true){this.scrollToAnimation(A,y)}else{this.contentOffset(A,y)}return this},__getObjectToPos:function(y){if(typeof(y)=="string"){y=this.__getStringToPos(y)}else{if(y.x===""||y.x==e){y.x=q.contentOffset.x}if(y.y===""||y.y==e){y.y=q.contentOffset.y}}return y},__getStringToPos:function(A){var z,B;if(A!==""&&typeof(A)=="string"){switch(A){case"top":z=q.contentOffset.x;B=q.contentInset.top;break;case"right":z=q.contentSize.width-q.frameSize.width;if(z<0){z=0}B=q.contentOffset.y;break;case"bottom":var B=q.contentSize.height-q.frameSize.height;if(B<0){B=0}z=q.contentOffset.x;break;case"left":z=q.contentInset.left;B=q.contentOffset.y;break}}else{z=q.contentOffset.x;B=q.contentOffset.y}return{x:z,y:B}},scrollToAnimation:function(F,B){if(!q.interaction.target){return}var z,E;F=this.__getObjectToPos(F);z=F.x;E=F.y;var A=this;var C=true;var D=(B&&!isNaN(parseInt(B.duration)))?parseInt(B.duration):300;if(this.element().scrollTop){this.element().scrollTop=0}if(this.element().scrollLeft){this.element().scrollLeft=0}z=Math.round(z);E=Math.round(E);if(!B||B.inQueue!==true){m.killAnimation(false);C=false}m.animate(D*0.001,{left:z*-1,top:E*-1,inQueue:C,onUpdate:function(){var y=parseInt(m.css("left"))*-1;var G=parseInt(m.css("top"))*-1;if(v){v.scroll(G,q)}if(u){u.scroll(y,q)}A._dispatchEventHandler("scrolling",q)},onComplete:function(){if(v){v.update(q)}if(u){u.update(q)}A._dispatchEventHandler("finishScrollAnimation",q)}});q.contentOffset.x=z;q.contentOffset.y=E;return this},frameSize:function(z,y){if(arguments.length==0){return q.frameSize}q.frameSize.width=z;q.frameSize.height=y},refresh:function(){var y=this.size();y.width=(y.width==0)?m.width():y.width;y.height=(y.height==0)?m.height():y.height;q.frameSize.width=this.width();q.frameSize.height=this.height();q.contentSize.width=m.width();q.contentSize.height=m.height();this._allowContentOffset();if(v){v.update(q)}if(u){u.update(q)}this.scrollTop();return this},delegate:function(y){t=y;n.scrolling=(typeof t.scrolling=="function");n.dragging=(typeof t.dragging=="function");n.startDragging=(typeof t.startDragging=="function");n.endDragging=(typeof t.endDragging=="function");n.finishScrollAnimation=(typeof t.finishScrollAnimation=="function")},destroy:function(){if(this.element()){this.__unbindEvents();m.destroy.apply(m,arguments);if(v){v.destroy(true)}if(u){u.destroy(true)}o=null;this._super("destroy",arguments)}return p.get(0)}}}})})(window);(function(m,g){var d=UI.Class,e=d.Element,i=d.UICore,k=d.UISetting,f=d.UIKit.cssPrefix,b={ChangeProperty:"UIControlEvent.ChangeProperty"},l=d({name:"UIControl",parent:i,constructor:function(){var s;var q;var r;return{_didChangeProperty:function(u){var t=this;if(q){clearTimeout(q);q=null}q=setTimeout(function(){t.dispatchEvent(b.ChangeProperty);q=null},10)},destroy:function(){$(this.element()).unbind("propertychange.UIControl keydown.UIControl keyup.UIControl input.UIControl paste.UIControl change.UIControl click.UIControl UIControlEvent.ChangeProperty");this._super("destroy",arguments)},init:function(u){var t=this._super("init",arguments);if(t){r=$(u);r.bind("propertychange.UIControl keydown.UIControl keyup.UIControl input.UIControl paste.UIControl change.UIControl click.UIControl UIControlEvent.ChangeProperty",this.context(function(v){return this._didChangeProperty(v)}));return this}},isDisabled:function(){return this.element().disabled},disabled:function(t){this.element().disabled=t;r.attr("disabled",t);this._didChangeProperty()}}}}),a=d({name:"Switch",parent:l,"static":function(){return{_setting:{defaultOptions:{selectors:{handle:"."+f+"switch-handle",field:"input"},isOn:false,disabled:false,transition:true,labelNames:["ON","OFF"],changeHandler:function(){}}},template:'<span class="'+f+'switch-label"><span></span><span></span></span><span class="'+f+'switch-handle"><span>&nbsp;</span></span>'}},constructor:function(){var s,x,t;var q,u,w,r,v=false;return{init:function(z){var y=this._super("init",arguments);if(y){q=this._options();s=$(z);this.__createElement();this.__bindEvent();this.__setting()}return this},__createElement:function(){s.prepend(a.template);var y=s.find("."+f+"switch-label span");y.eq(0).html(q.labelNames[0]);y.eq(1).html(q.labelNames[1]);x=s.find(q.selectors.handle);t=s.find(q.selectors.field)},__setting:function(){r=(t.attr("type")=="checkbox")?true:false;if(s.hasClass(f+"on")){this.on(false)}else{if(q.isOn){this.on(false)}else{v=true;this.off(false)}}if(s.hasClass("disabled")||q.disabled==true){this.disable()}else{this.enable()}setTimeout(function(){var y=f+"switch-animate";if(q.transition){s.addClass(y)}else{s.removeClass(y)}},1)},__unbindEvent:function(){var y=this;if(r){this.unbind("changeState")}else{t.off("release."+this.instanceID)}x.off("click."+this.instanceID);s.off("mousedown."+this.instanceID+" touchstart."+this.instanceID);s.off("touchmove."+this.instanceID+" touchcancel."+this.instanceID+" touchend."+this.instanceID+" mouseleave."+this.instanceID)},__bindEvent:function(){var y=this;if(r){this.bind("changeState",function(A){if(A.checked){this.on()}else{this.off()}}.bind(this))}else{w=t.attr("name");t.on("release."+this.instanceID,function(){this.off()}.bind(this))}x.on("click."+this.instanceID,function(){if(s.hasClass(f+"on")){this.off()}else{this.on()}}.bind(this));var z;s.on("mousedown."+this.instanceID+" touchstart."+this.instanceID,function(A){if(A.originalEvent&&A.originalEvent.touches&&A.originalEvent.touches[0]){z=A.originalEvent.touches[0].pageX}});s.on("touchmove."+this.instanceID+" touchcancel."+this.instanceID+" touchend."+this.instanceID+" mouseleave."+this.instanceID,function(A){if(A.originalEvent&&A.originalEvent.touches&&A.originalEvent.touches[0]){var B=z-A.originalEvent.touches[0].pageX;if(Math.abs(B)>20){if(B<0){y.on()}else{y.off()}}}})},__changeSwitch:function(y,z){v=y;t.prop("checked",y);if(z===false){return}this.__triggerChange()},toggle:function(z,y){if(z||v===false){this.on(g,y)}else{this.off(g,y)}},on:function(z,y){if((u&&y!==true)||v){return}this.__changeSwitch(true,z);s.addClass(f+"on");if(!r){$("input[name="+w+"]").not(t).prop("checked",false).trigger("release")}return this},off:function(z,y){if((u&&y!==true)||v===false){return}this.__changeSwitch(false,z);s.removeClass(f+"on");return this},__triggerChange:function(){this._dispatchEventHandler("change",v,s.get(0))},getChecked:function(){return v},disable:function(){s.addClass(f+"disabled");t.attr("disabled","disabled");u=true;return this},enable:function(){s.removeClass(f+"disabled");t.removeAttr("disabled");u=false;return this},destroy:function(){if(this.element()){this.__unbindEvent();this._super("destroy",arguments);s.children().not("input").remove();x=t=null}return s.get(0)}}}}),j=d({name:"SpriteClip",parent:i,"static":function(){return{_setting:{defaultOptions:{startFrame:1,totalFrames:g,frameRate:30,layout:"horizontal",frameWidth:g,frameHeight:g,autoPlay:true,isRewind:false,enterframeHandler:function(){},playHandler:function(){},rewindHandler:function(){},stopHandler:function(){}}}}},constructor:function(){var v;var q,r;var w,s,u,x,t="";return{init:function(z,A){var y=this._super("init",arguments);if(y){q=this._options();v=$(z);this.__setting();this.__goFrame(q.startFrame);if(q.autoPlay==true){if(q.isRewind==true){this.rewind()}else{this.play()}}}return this},__setting:function(){w=0;v.width(q.frameWidth);v.height(q.frameHeight);r=this.__getFramePosAry()},__getFramePosAry:function(){var z=[];if(q.layout=="horizontal"){for(var y=0;y<q.totalFrames;y++){z.push((y*q.frameWidth*-1)+"px 0")}}else{for(var y=0;y<q.totalFrames;y++){z.push("0 "+(y*q.frameHeight*-1)+"px")}}return z},play:function(){var y=this;this.__setInterval(function(){if(x==true){return}y.nextFrame()});if(t!="play"){this._dispatchEventHandler("play",w)}t="play";return this},__frameStop:function(){clearInterval(u);x=true},stop:function(){this.__frameStop();if(t!="stop"){this._dispatchEventHandler("stop",w)}t="stop";return this},__setInterval:function(y){this.__frameStop();x=false;u=setInterval(y,Math.ceil(1000/q.frameRate))},rewind:function(){var y=this;this.__setInterval(function(){if(x==true){return}y.prevFrame()});if(t!="rewind"){this._dispatchEventHandler("rewind",w)}t="rewind";return this},gotoAndRewind:function(y){if(y!=g){this.__goFrame(y)}this.rewind();return this},gotoAndPlay:function(y){if(y!=g){this.__goFrame(y)}this.play();return this},__goFrame:function(y){if(w==y){return}var y=Math.max(Math.min(y,q.totalFrames),0);v.css("background-position",r[y-1]);w=y;this._dispatchEventHandler("enterframe",y)},gotoAndStop:function(y){this.__goFrame(y);this.stop();return this},nextFrame:function(){var y=w+1;if(y>q.totalFrames){y=1}this.__goFrame(y);return this},prevFrame:function(){var y=w-1;if(y<1){y=q.totalFrames}this.__goFrame(y);return this},getCurrentFrame:function(){return w},playtoAndStop:function(z){var y=this;this.__setInterval(function(){if(x==true){return}y.nextFrame();if(w==z){y.stop()}});if(t!="play"){this._dispatchEventHandler("play",w)}t="play";return this},playOnce:function(){this.__goFrame(1);this.playtoAndStop(q.totalFrames);return this},rewindOnce:function(){this.__goFrame(q.totalFrames);this.rewindtoAndStop(1);return this},rewindtoAndStop:function(z){var y=this;this.__setInterval(function(){if(x==true){return}y.prevFrame();if(w==z){y.stop()}});if(t!="rewind"){this._dispatchEventHandler("rewind",w)}t="rewind";return this},destroy:function(){if(this.element()){this.__frameStop();v.css({"background-position":"",width:"",height:""});this._super("destroy",arguments);q=w=s=u=x=r=g}return v.get(0)}}}}),c=d({name:"Tabs",parent:l,"static":function(){return{_setting:{defaultOptions:{active:0,disabled:false,activateHandler:function(){}}}}},constructor:function(){var r,s;var q;return{init:function(u,v){var t=this._super("init",arguments);if(t){q=this._options();r=$(u);this.__bindEvent();this.active(q.active);if(q.disabled==true){this.disable()}}return this},__bindEvent:function(){var t=this;r.on("click."+this.instanceID,"a."+f+"tab",function(v){v.preventDefault();var u=r.find("a."+f+"tab").index(this);t.active(u)})},__unbindEvent:function(){r.off("click."+this.instanceID,"a."+f+"tab")},active:function(u){if(r.hasClass(f+"disabled")){return}if(u!==g){var w=r.find("a."+f+"tab").eq(u);if(!w.parent().hasClass(f+"disabled")&&s!=u){s=u;w.parent().addClass(f+"active").siblings().removeClass(f+"active");var v=w.attr("href");var t=r.find(v).css("display","");r.find("."+f+"cont").not(t).css("display","none");this._dispatchEventHandler("activate",u)}return this}else{return s}},disable:function(){r.addClass(f+"disabled");return this},enable:function(){r.removeClass(f+"disabled");return this},destroy:function(){if(this.element()){this.__unbindEvent();this._super("destroy",arguments)}return r.get(0)}}}}),n=d({name:"Accordion",parent:l,"static":function(){return{_setting:{defaultOptions:{toggle:false,animate:true,active:0,disabled:false,activateHandler:function(){}}}}},constructor:function(){var r,s;var q;return{init:function(u,v){var t=this._super("init",arguments);if(t){q=this._options();r=$(u);this.__setAnimate();this.__bindEvent();this.active(q.active,false);if(q.disabled){this.disable()}}return this},__bindEvent:function(){var t=this;r.on("click."+this.instanceID,">."+f+"accordion-cont:not(."+f+"disabled)>."+f+"accordion-heading",function(w){var u=$(this).parent();var v=r.find(">."+f+"accordion-cont").index(u);if(q.toggle===true){t.toggle(v)}else{t.active(v)}})},__unbindEvent:function(){r.off("click."+this.instanceID)},toggle:function(v,u){var t=r.find(">."+f+"accordion-cont").eq(v);if(r.hasClass(f+"disabled")||t.hasClass(f+"disabled")){return}if(!t.hasClass(f+"active")){var v=r.find(">."+f+"accordion-cont").index(t);this.active(v,u)}else{t.removeClass(f+"active");var w=t.children("."+f+"accordion-collapse");if(this.__setAnimate(u)){t.addClass(f+"collapsing");w.height(w.children().outerHeight());w.off().one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){w.css("display","none").parent().removeClass(f+"collapsing")})}w.height(0)}},__setAnimate:function(t){var u=(t==g)?q.animate:t;if(u==true){r.addClass(f+"animate")}else{r.removeClass(f+"animate")}return u},active:function(w,v){var u=r.find(">."+f+"accordion-cont").eq(w);if(w!==g){if(r.hasClass(f+"disabled")||w==-1||u.length==0||(u.hasClass(f+"active")&&s==w)||u.hasClass(f+"disabled")){return}u.addClass(f+"active");var z=this.__setAnimate(v);var x=u.children("."+f+"accordion-collapse").css("display","");var t=x.children().outerHeight();if(z){u.addClass(f+"collapsing");x.off().one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){$(this).parent().removeClass(f+"collapsing");x.height("auto")});x.height(t)}else{x.height("auto")}var y=u.siblings().filter("."+f+"accordion-cont."+f+"active").removeClass(f+"active");y.each(function(){var A=$(this).children("."+f+"accordion-collapse");A.height(A.children().outerHeight())});if(z){y.addClass(f+"collapsing").children("."+f+"accordion-collapse").height(0).off().one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){$(this).css("display","none").parent().removeClass(f+"collapsing")})}s=w;this._dispatchEventHandler("activate",w)}else{return s}},disable:function(){r.addClass(f+"disabled");return this},enable:function(){r.removeClass(f+"disabled");return this},destroy:function(){if(this.element()){this.__unbindEvent();this._super("destroy",arguments)}return r.get(0)}}}}),o=d({name:"UISegment",parent:l,constructor:function(){var r=-1,q=[];return{init:function(t){var s=this._super("init",arguments);if(s){s=this;q=$(t).find("a");q.bind("click",function(v){var u=$(this).index();s.index(u)});this.index(this._options().index)}return this},index:function(s){if(arguments.length==0){return r}this.setIndex(s)},setIndex:function(s){r=s;q.removeClass("on").eq(s).addClass("on");this.dispatchEvent("changeIndex",s)}}},"static":function(){return{_setting:{defaultOptions:{index:0,type:"DEFAULT"},surrogateKeys:{startindex:"index"},enumsKeys:{type:{DEFAULT:0,BEST:1}}}}}}),p=function p(r){var q={trackHeight:0,trackWidth:0,trackOffset:{x:0,y:0},minimumTrackOffset:{x:0,y:0},maximumTrackOffset:{x:0,y:0},allowMinimumTrackOffset:{minX:0,minY:0,maxX:100,maxY:100},allowMaximumTrackOffset:{minX:0,minY:0,maxX:100,maxY:100},allowTrackOffset:{minX:0,minY:0,maxX:100,maxY:100},stepGapSize:{width:0,height:0},minValue:0,maxValue:0,value:0,values:[0,0],interaction:{hasTouch:("ontouchstart" in m)?true:false,target:r,startTime:0,beginPoint:{x:0,y:0},currentPoint:{x:0,y:0},dragging:false,startInteraction:false,globalMove:false}};return q},h=d({name:"Slider",parent:l,"static":function(){return{_setting:{defaultOptions:{animate:true,disabled:false,range:false,min:0,max:100,orientation:"horizontal",value:0,step:0,values:[0,100],changeHandler:function(){},startHandler:function(){},stopHandler:function(){},slideHandler:function(){}}},template:{slider:['<span class="'+f+'minimum-value">0</span>','<div class="'+f+'maximum-track">','<div class="'+f+'minimum-track"></div>','<button class="'+f+"slider-thumb "+f+'minimum-thumb"><span class="'+f+'thumb-value">0</span></button>',"</div>",'<span class="'+f+'maximum-value">0</span>'].join(""),maxThumb:'<button class="'+f+"slider-thumb "+f+'maximum-thumb"><span class="'+f+'thumb-value">0</span></button>'}}},constructor:function(){var t,y;var A,G,B,q;var H,v,r,u,s,z,E,F,C,w,D,x;return{init:function(J,K){if(K==g){K={}}var I=this._super("init",arguments);if(I){A=this._options();r=$(J);H=$(document);v=$("body");q=K.range;if(q==true&&K.values==g){A.values[0]=A.min;A.values[1]=A.max}this._createElement(r,q,A.orientation);this.__setting();this.__setOrientation(A.orientation);this.__bindEvent();if(q===true){this.values(A.values,false)}else{this.value(A.value,false)}if(A.disabled){this.disable()}}return this},_createElement:function(K,J,I){K.html(h.template.slider);if(J===true){K.find("."+f+"maximum-track").append(h.template.maxThumb)}if(I=="vertical"){K.addClass(f+"vertical-slider")}},__setting:function(){s=r.find("."+f+"maximum-track");z=r.find("."+f+"minimum-track");C=r.find("."+f+"minimum-value").html(A.min);w=r.find("."+f+"maximum-value").html(A.max);t=new e(z.get(0));E=r.find("."+f+"slider-thumb");if(A.range===true){D=E.filter("."+f+"slider-thumb."+f+"minimum-thumb");x=E.filter("."+f+"slider-thumb."+f+"maximum-thumb")}else{F=E}if(A.step==1){A.step=0}if(q===true){A.values=A.values.concat()}y=new p(r.get(0));y.minValue=Number(A.min);y.maxValue=Number(A.max)},__setOrientation:function(I){y.trackOffset.x=0;y.trackOffset.y=0;y.allowTrackOffset.minX=0;y.allowTrackOffset.maxX=0;y.allowTrackOffset.minY=0;y.allowTrackOffset.maxY=0;y.trackHeight=s.height();y.trackWidth=s.width();switch(I){case"vertical":this.__movePos=this.__movePosY;this.__calcTrackOffset=this.__calcTrackOffsetY;this.__exeTrackAnimation=this.__exeTrackAnimationY;y.trackOffset.y=z.height();y.allowTrackOffset.maxY=s.height();if(A.range===true){y.allowMinimumTrackOffset.maxY=y.allowMaximumTrackOffset.maxY=y.allowTrackOffset.maxY}this.__setStepData();this.__maximumTrackClickHandler=function(P){if(P.target==z.get(0)||P.target==s.get(0)){var N=P.offsetY;var Q=0,J=y.trackHeight;if(P.target==s.get(0)){Q=J-N}else{if(P.target==z.get(0)){var L=J-(z.height()+parseInt(z.css("bottom")));Q=J-(N+L)}}if(A.range===true){var M=this.__convertPxPositionY(D.css("bottom"));var K=this.__convertPxPositionY(x.css("bottom"));var R=Math.abs(M-Q);var O=Math.abs(K-Q);if(M!=K){if(R<O){this.__changeTargetThumb(D)}else{this.__changeTargetThumb(x)}}else{if(K<Q){this.__changeTargetThumb(x)}else{this.__changeTargetThumb(D)}}}this.trackTo(Q)}};break;default:this.__movePos=this.__movePosX;this.__calcTrackOffset=this.__calcTrackOffsetX;this.__exeTrackAnimation=this.__exeTrackAnimationX;y.trackOffset.x=z.width();y.allowTrackOffset.maxX=s.width();if(A.range===true){y.allowMinimumTrackOffset.maxX=y.allowMaximumTrackOffset.maxX=y.allowTrackOffset.maxX}this.__setStepData();this.__maximumTrackClickHandler=function(O){if(O.target==z.get(0)||O.target==s.get(0)){var J=O.offsetX;if(O.target==z.get(0)){J+=parseInt(z.css("left"))}if(A.range===true){var L=this.__convertPxPositionY(D.css("left"));var N=this.__convertPxPositionY(x.css("left"));var K=Math.abs(L-J);var M=Math.abs(N-J);if(L!=N){if(K<M){this.__changeTargetThumb(D)}else{this.__changeTargetThumb(x)}}else{if(L<J){this.__changeTargetThumb(x)}else{this.__changeTargetThumb(D)}}}this.trackTo(J)}}}},disable:function(){this.disabled(true);return this},enable:function(){this.disabled(false);return this},__bindEvent:function(){$(m).on("resize."+this.instanceID,this._resizeHandler.bind(this));E.on(y.interaction.hasTouch?"touchstart."+this.instanceID:"mousedown."+this.instanceID,this._eventHandler.bind(this));E.on(y.interaction.hasTouch?"touchmove."+this.instanceID:"mousemove."+this.instanceID,this._eventHandler.bind(this));E.on(y.interaction.hasTouch?"touchend."+this.instanceID:"mouseup."+this.instanceID,this._eventHandler.bind(this));if(y.interaction.hasTouch){E.on("touchcancel."+this.instanceID,this._eventHandler.bind(this))}s.on("click."+this.instanceID,this.__maximumTrackClickHandler.bind(this))},__unbindEvent:function(){$(m).off("resize."+this.instanceID);E.off(y.interaction.hasTouch?"touchstart."+this.instanceID:"mousedown."+this.instanceID);E.off(y.interaction.hasTouch?"touchmove."+this.instanceID:"mousemove."+this.instanceID);E.off(y.interaction.hasTouch?"touchend."+this.instanceID:"mouseup."+this.instanceID);if(y.interaction.hasTouch){E.off("touchcancel."+this.instanceID)}s.off("click."+this.instanceID);if(!y.interaction.hasTouch){H.off("mouseup."+this.instanceID);H.off("mouseleave."+this.instanceID)}},__maximumTrackClickHandler:function(){},_event:function(L){var K=0,J=0,I=0;if(L.originalEvent&&L.originalEvent.touches!=g){var M=L.originalEvent.touches[0];if(M){I=M.timeStamp;K=M.pageX;J=M.pageY}else{I=L.timeStamp;K=L.pageX;J=L.pageY}}else{if(L.touches!=g){var M=L.touches[0];if(M){I=M.timeStamp;K=M.pageX;J=M.pageY}else{I=L.timeStamp;K=L.pageX;J=L.pageY}}else{I=L.timeStamp;K=L.pageX;J=L.pageY}}return{timeStamp:I||(new Date()).getTime(),pageX:K,pageY:J}},_timeStamp:function(){return(new Date()).getTime()},_resizeHandler:function(){var L=y.maxValue-y.minValue;var J=y.value-y.minValue;y.trackHeight=s.height();y.trackWidth=s.width();var I=y.trackHeight,K=y.trackWidth;if(A.orientation=="horizontal"){if(q){J=y.values[0]-y.minValue;y.minimumTrackOffset.x=Math.round(K*(J/L));J=y.values[1]-y.minValue;y.maximumTrackOffset.x=Math.round(K*(J/L));y.allowMinimumTrackOffset.maxX=y.maximumTrackOffset.x;y.allowMaximumTrackOffset.maxX=K}else{y.trackOffset.x=Math.round(K*(J/L));y.allowTrackOffset.maxX=K}}else{if(q){J=y.values[0]-y.minValue;y.minimumTrackOffset.y=Math.round(I*(J/L));J=y.values[1]-y.minValue;y.maximumTrackOffset.y=Math.round(I*(J/L));y.allowMinimumTrackOffset.maxY=y.maximumTrackOffset.y;y.allowMaximumTrackOffset.maxY=I}else{y.trackOffset.y=Math.round(I*(J/L));y.allowTrackOffset.maxY=I}}},__changeTargetThumb:function(I){if(I==D||I==D.get(0)){x.removeClass(f+"target-thumb");F=D.addClass(f+"target-thumb");y.allowTrackOffset=y.allowMinimumTrackOffset;y.trackOffset=y.minimumTrackOffset}else{D.removeClass(f+"target-thumb");F=x.addClass(f+"target-thumb");y.allowTrackOffset=y.allowMaximumTrackOffset;y.trackOffset=y.maximumTrackOffset}},_start:function(J){var I=this._event(J);if(A.range===true){if(J.target==D.get(0)){this.__changeTargetThumb(D)}else{this.__changeTargetThumb(x)}}y.interaction.target=J.target||J.srcElement;y.interaction.startTime=this._timeStamp();y.interaction.beginPoint.x=y.interaction.currentPoint.x=I.pageX;y.interaction.beginPoint.y=y.interaction.currentPoint.y=I.pageY;y.interaction.clickable=true;y.interaction.startInteraction=true;t.killAnimation(false);H.off("mouseup."+this.instanceID).on("mouseup."+this.instanceID,this._eventHandler.bind(this));H.off("mouseleave."+this.instanceID).on("mouseleave."+this.instanceID,this._eventHandler.bind(this));return true},__getRangeValue:function(){if(q===true){return y.values}else{return y.value}},__movePos:function(){},__movePosX:function(I){var J=I.x-r.offset().left;this.trackOffset(J,{overflowY:true})},__movePosY:function(I){var K=I.y-r.offset().top;var J=y.trackHeight-K;this.trackOffset(J,{overflowX:true})},_move:function(K){K.preventDefault();if(y.interaction.startInteraction){var I,J=this._event(K),I={x:J.pageX,y:J.pageY};if(y.interaction.dragging==false){this._dispatchEventHandler("start",this.__getRangeValue(),F.get(0))}y.interaction.clickable=false;y.interaction.dragging=true;y.interaction.currentPoint.x=J.pageX;y.interaction.currentPoint.y=J.pageY;if(y.interaction.dragging==true){this.__movePos(I);if(y.interaction.globalMove==false){y.interaction.globalMove=true;v.on("touchmove."+this.instanceID+", mousemove."+this.instanceID,this._eventHandler.bind(this))}this._dispatchEventHandler("slide",this.__getRangeValue(),F.get(0))}}return true},_end:function(J,I){if(y.interaction.globalMove==true){y.interaction.globalMove=false;v.off("touchmove."+this.instanceID+", mousemove."+this.instanceID);H.off("mouseup."+this.instanceID);H.off("mouseleave."+this.instanceID)}if(y.interaction.startInteraction){if(y.interaction.dragging==true){y.interaction.dragging=false;this._dispatchEventHandler("stop",this.__getRangeValue(),F.get(0))}y.interaction.target=g;y.interaction.startInteraction=false}return true},_eventHandler:function(L){var I=g;switch(L.type){case"mousedown":case"touchstart":I=this._start.call(this,L);break;case"mousemove":case"touchmove":I=this._move.call(this,L);break;case"mouseup":case"mouseleave":case"touchend":case"touchcancel":I=this._end.call(this,L,(L.type==="mouseleave"));break;case"mousewheel":if(!y.interaction.startInteraction){var K=L.originalEvent.deltaX;var J=L.originalEvent.deltaY;this.contentOffset(y.contentOffset.x+K,y.contentOffset.y+J)}I=false;break}return I},_info:function(){return y},__calcTrackOffset:function(){},__calcTrackOffsetX:function(I,J){var L=I;if(!J||!J.overflowX===true){I=Math.min(Math.max(I,y.allowTrackOffset.minX),y.allowTrackOffset.maxX)}y.trackOffset.x=I;var K=Math.round((I/y.trackWidth)*100);if(A.step){K=this.__setSliderStep(K).pos}F.css({left:K+"%"});this.__setHorizontalMinimumTrack()},__calcTrackOffsetY:function(K,J){if(!J||!J.overflowY===true){K=Math.min(Math.max(K,y.allowTrackOffset.minY),y.allowTrackOffset.maxY)}y.trackOffset.y=K;var I=Math.round((K/y.trackHeight)*100);if(A.step){I=this.__setSliderStep(I).pos}F.css({bottom:I+"%"});this.__setVerticalMinimumTrack()},trackOffset:function(J,I){if(this.isDisabled()){return}if(arguments.length==0){return Object.clone(y.contentOffset)}this.__calcTrackOffset(J,I);this._updateValue()},trackTo:function(I){if(this.isDisabled()){return}I=Math.round(I);if(A.animate){this.trackToAnimation(I)}else{this.trackOffset(I)}},__exeTrackAnimationX:function(J,L){var K=this;L=L||300;var M=this.__convertPercentPositionX(J);if(A.step){M=this.__setSliderStep(M).pos}var I=F;I.stop().animate({left:M+"%"},{duration:L,progress:function(){K.__setHorizontalMinimumTrack(I)}});y.trackOffset.x=J},__exeTrackAnimationY:function(M,K){var J=this;K=K||300;var L=this.__convertPercentPositionY(M);if(A.step){L=this.__setSliderStep(L).pos}var I=F;I.stop().animate({bottom:L+"%"},{duration:K,progress:function(){J.__setVerticalMinimumTrack(I)}});y.trackOffset.y=M},__convertPxPositionY:function(I){if(typeof(I)=="string"&&I.search("px")!=-1){return parseInt(I)}else{return Math.round(parseInt(I)*y.trackHeight/100)}},__convertPercentPositionY:function(I){if(typeof(I)=="string"&&I.search("%")!=-1){return parseInt(I)}else{return Math.round(parseInt(I)/y.trackHeight*100)}},__convertPxPositionX:function(I){if(typeof(I)=="string"&&I.search("px")!=-1){return parseInt(I)}else{return Math.round(parseInt(I)*y.trackWidth/100)}},__convertPercentPositionX:function(I){if(typeof(I)=="string"&&I.search("%")!=-1){return parseInt(I)}else{return Math.round(parseInt(I)/y.trackWidth*100)}},__setHorizontalMinimumTrack:function(M){M=M||F;var K;var J=y.trackWidth;var L=this.__convertPercentPositionX(M.css("left"));if(A.range===true){if(M==D){K=this.__convertPercentPositionX(x.css("left"))-L;t.css({left:L+"%"});y.allowMaximumTrackOffset.minX=J/100*L}else{K=L-(this.__convertPercentPositionX(z.css("left")));M.css({left:L+"%"});y.allowMinimumTrackOffset.maxX=J/100*L}K=Math.min(Math.max(K,0),100);t.css({width:K+"%"})}else{if(q!="max"){var I=this.__convertPercentPositionX(z.css("left"));K=parseInt(L-parseInt(I))}else{t.css({left:L+"%"});K=parseInt(100-L)}K=Math.min(Math.max(K,0),100);t.css({width:K+"%"})}},__setVerticalMinimumTrack:function(N){N=N||F;var L=y.trackHeight;var I,K;var J=this.__convertPercentPositionY(N.css("bottom"));if(q===true){if(N==D){K=this.__convertPercentPositionY(x.css("bottom"))-J;I=Math.min(Math.max(parseInt(K),0),L);t.css({bottom:J+"%",height:I+"%"});y.allowMaximumTrackOffset.minY=L/100*J}else{K=J-this.__convertPercentPositionY(z.css("bottom"));I=Math.min(Math.max(K,0),L);t.css({height:I+"%"});y.allowMinimumTrackOffset.maxY=L/100*J}}else{if(q!="max"){var M=Math.min(Math.max(this.__convertPercentPositionY(F.css("bottom"))-J,0),L);t.css({height:J+"%"})}else{t.css({bottom:J+"%",height:(100-J)+"%"})}}},__exeTrackAnimation:function(J,I){},trackToAnimation:function(K,I){if(this.isDisabled()){return}K=Math.round(K);var J=(I&&!isNaN(parseInt(I.duration)))?parseInt(I.duration):300;this.__exeTrackAnimation(K,J);this._updateValue()},_updateValue:function(){var I;var K=true;var J=Math.round(this.value());if(q===true){if(F.get(0)==D.get(0)){I=y.values[0];if(I==J){K=false}y.values[0]=J}else{I=y.values[1];if(I==J){K=false}y.values[1]=J}}else{I=y.value;if(I==J){K=false}else{y.value=J}}F.find("."+f+"thumb-value").html(J);if(K==false){return}this._dispatchEventHandler("change",this.__getRangeValue())},values:function(J,K){if(arguments.length==0){return y.values}if(this.isDisabled()){return}if(q===true&&J&&J.length==2){if(J[0]>J[1]){var I=J[0];J[0]=J[1];J[1]=I}if(A.orientation=="vertical"){y.allowMinimumTrackOffset.maxY=y.trackHeight;y.allowMaximumTrackOffset.minY=0}else{y.allowMinimumTrackOffset.maxX=y.trackWidth;y.allowMaximumTrackOffset.minX=0}this.__changeTargetThumb(D);this.value(J[0],K);this.__changeTargetThumb(x);this.value(J[1],K)}return this},value:function(K,J){if(arguments.length==0){if(A.step){return B.value}var I;if(A.orientation=="horizontal"){I=(y.maxValue-y.minValue)/(100-0)*((y.trackOffset.x/y.trackWidth*100)-0)+y.minValue}else{I=(y.maxValue-y.minValue)/(100-0)*((y.trackOffset.y/y.trackHeight*100)-0)+y.minValue}I=Math.min(Math.max(I,y.minValue),y.maxValue);return I}if(this.isDisabled()){return}var L=(100-0)/(y.maxValue-y.minValue)*(K-y.minValue)+0;L=Math.min(Math.max(L,0),100);if(A.orientation=="horizontal"){L=r.width()/100*L}else{L=r.height()/100*L}if(J===true||J==g){this.trackToAnimation(L,{duration:300})}else{this.trackOffset(L)}this._updateValue()},__setSliderStep:function(P){if(A.step){B=G[0];var O=G[0].pos;var L=G.length;var N=Math.abs(G[1].pos-G[0].pos);for(var I=1;I<L;I++){if(O<P){var Q=G[I-1].pos;var M=G[I].pos;var J=Math.abs(Q-P);var K=Math.abs(M-P);if((J-1)<=N&&(K-1)<=N){if(K<J){O=M;B=G[I]}else{O=Q;B=G[I-1]}break}}}return B}},__setStepData:function(){if(A.step){G=[];var J=Math.ceil((y.maxValue-y.minValue)/A.step);var I=Math.round(100/J);B={value:y.minValue,pos:0};G.push(B);for(var L=1;L<J;L++){var K=y.minValue+(A.step*L);G.push({value:K,pos:Math.round(I*L)})}G.push({value:y.maxValue,pos:100})}},destroy:function(){if(this.element()){this.__unbindEvent();this._super("destroy",arguments);r.children().remove();var M,L;var I,K,J,N;u=s=z=E=C=w=D=x=F=H=v=null;M=L=null}return r.get(0)}}}})})(window);(function(d,e){var b=UI.Class,a=b.UICore,f=b.UIKit.cssPrefix,c=b({name:"Spinner",parent:a,"static":function(){return{_setting:{defaultOptions:{selectors:{btnUp:"."+f+"btn-up",btnDown:"."+f+"btn-down",field:"input"},value:0,max:1000,min:0,step:0.2,disabled:false,changeHandler:function(){}}},template:{front:'<span class="'+f+'set-btn"><button class="'+f+'btn-down" type="button"><span></span></button></span>',back:'<span class="'+f+'set-btn"><button class="'+f+'btn-up" type="button"><span></span></button></span>'}}},constructor:function(){var n,g,i,j;var o,l,m,k;var h;return{_createElement:function(p){p.prepend(c.template.front);p.append(c.template.back)},init:function(r,q){var p=this._super("init",arguments);l=this._options();n=$(r);this._createElement(n);if(p){g=n.find("."+f+"btn-down");i=n.find("."+f+"btn-up");j=n.find("input");this.__setting();this.__bindEvent();return this}},__setting:function(){var p=parseFloat(parseFloat(j.val()).toFixed(this._precision()));if(isNaN(p)){this.value(l.value)}else{this.value(p)}if(n.hasClass("disabled")||l.disabled){this.disable()}else{this.enable()}},__setAutoTimer:function(p,s){this.__clearAutoTimer();var r=this;var q=0;h=setInterval(function(){if(h==e){return}if(s!=50){q++;if(q>5){r.__setAutoTimer(p,50)}}p()},s)},__clearAutoTimer:function(){clearInterval(h);h=e},__bindEvent:function(){var q;var p=200;g.add(i).on("touchend."+this.instanceID+" mouseup."+this.instanceID+" touchcancel",function(){this.__clearAutoTimer()}.bind(this));g.on("touchstart."+this.instanceID+" mousedown."+this.instanceID,function(r){this.__setAutoTimer(this.stepDown,p)}.bind(this));i.on("touchstart."+this.instanceID+" mousedown."+this.instanceID,function(r){this.__setAutoTimer(this.stepUp,p)}.bind(this));g.on("click."+this.instanceID,function(r){this.__clearAutoTimer();this.stepDown()}.bind(this));i.on("click."+this.instanceID,function(r){this.__clearAutoTimer();this.stepUp()}.bind(this));j.on("focusout."+this.instanceID+" keydown."+this.instanceID+" keyup."+this.instanceID,function(){this.__clearAutoTimer();var r=parseFloat(j.val());var s=(isNaN(r))?0:r;this.value(s)}.bind(this))},__unbindEvent:function(){g.add(i).off("touchend."+this.instanceID+" mouseup."+this.instanceID+" touchcancel");g.off("touchstart."+this.instanceID+" mousedown."+this.instanceID);i.off("touchstart."+this.instanceID+" mousedown."+this.instanceID);g.off("click."+this.instanceID);i.off("click."+this.instanceID);j.off("focusout."+this.instanceID+" keydown."+this.instanceID+" keyup."+this.instanceID)},_precision:function(){var p=this._precisionOf(l.step);p=Math.max(p,this._precisionOf(l.min));return p},_precisionOf:function(q){var r=q.toString(),p=r.indexOf(".");return p===-1?0:r.length-p-1},max:function(p){if(p!=e){l.max=parseFloat(parseFloat(p).toFixed(this._precision()));this.value(o);return this}else{return l.max}},min:function(p){if(p!=e){l.min=parseFloat(parseFloat(p).toFixed(this._precision()));this.value(o);return this}else{return l.min}},stepUp:function(r){var p=(isNaN(r))?l.step:r;var q=o+p;this.value(q);return this},stepDown:function(q){var p=(isNaN(q))?l.step:q;var r=o-p;this.value(r);return this},value:function(q){if(k){return}if(q!=e){var p=parseFloat(parseFloat(j.val()).toFixed(this._precision()));q=parseFloat(parseFloat(q).toFixed(this._precision()));q=Math.min(Math.max(q,l.min),l.max);if(p!==q){j.val(q)}if(q!=e&&o!=q){o=q;this.__triggerChange()}return this}else{return o}},__triggerChange:function(){this._dispatchEventHandler("change",o,n.get(0))},disable:function(){k=true;g.add(i).add(j).attr("disabled","disabled");return this},enable:function(){k=false;g.add(i).add(j).removeAttr("disabled");return this},destroy:function(){if(this.element()){this.__clearAutoTimer();this.__unbindEvent();this._super("destroy",arguments);g=i=j=null;n.children().not("input").remove()}return n.get(0)}}}})})(window);(function(f,g){var e=UI.Class,d=e.Element,b=e.UICore,h=e.UIKit.cssPrefix,a=e({name:"PageIndicator",parent:b,constructor:function(){var i;var k=[];var n=0,m=0;var j,l={didSelectPage:false};return{init:function(q,o){var p=this._super("init",arguments);if(p){i=$(q);this.__bindEvent();return this}},__bindEvent:function(){var o=this;i.on("click."+this.instanceID,"[data-page]",function(){var p=$(this).attr("data-page");o.dispatchEvent("selectPage",p);if(l.didSelectPage){j.didSelectPage(self,m)}})},__unbindEvent:function(){var o=this;i.off("click."+this.instanceID)},delegate:function(o){j=o;l.didSelectPage=(typeof j.didSelectPage==="function")},setNeedsDisplay:function(){var o=this;k=[];var p="<ul>";for(var q=1;q<=n;q++){p+="<li data-page="+q+"><span>"+q+"</span></li>"}p+="</ul>";i.html(p)},currentPage:function(o){if(arguments.length==0){return m}m=Math.min(Math.max(1,o),n);i.find("[data-page='"+o+"']").addClass(h+"active").siblings().removeClass(h+"active")},numberOfPages:function(o){n=o;this.setNeedsDisplay()},destroy:function(){if(this.element()){this.__unbindEvent();i.children().remove();k=null;this._super("destroy",arguments)}return i.get(0)}}}}),c=e({name:"LoadingSpinner",parent:b,"static":{_setting:{defaultOptions:{labelData:{txt:g,loadingTxt:g,spinPosition:"left",isLabelHide:false},useTransition:true,isAnimate:true}}},constructor:function(){var k,n,m;var j,l,i=false;return{init:function(p,q){var o=this._super("init",arguments);if(o){j=this._options();k=$(p);this.__setting();this.__settingElement();this.__settingEvents();this.__settingEasing();this.show();return this}},__setting:function(){if(j.labelData.txt!=g){i=true;if(j.labelData.loadingTxt==g){j.labelData.loadingTxt=j.labelData.txt}}},__settingElement:function(){if(i==false){var p;p=$('<div class="'+h+"spn "+h+"spinner-icon "+h+'draw"></div>');k.html(p);n=p}else{var r="";r='<div class="'+h+"spn "+h+'spinner-icon"><span class="'+h+'draw"></span></div>';var o='<span class="'+h+'txt">'+j.labelData.labelTxt+"</span>";var q="";if(j.labelData.spinPosition=="left"||j.labelData.spinPosition=="top"){q=r+o}else{if(j.labelData.spinPosition=="right"||j.labelData.spinPosition=="bottom"){q=o+r}}k.addClass(h+j.labelData.spinPosition).html(q);n=k.find("."+h+"spn");m=k.find("."+h+"txt")}},__settingEasing:function(){$.extend(jQuery.easing,{mSpinnerEasing:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q+o}return -s/2*((--q)*(q-2)-1)+o}})},startSpinAnimation:function(){var o=this;n.data("isAnimate",true);n.stop().prop({tempRotate:0}).animate({tempRotate:358},{duration:1000,easing:"mSpinnerEasing",step:function(p){n.css("transform","rotate("+p+"deg)")},complete:function(){if(n.data("isAnimate")==true){o.startSpinAnimation(n)}}})},stopSpinAnimation:function(o){n.stop().data("isAnimate",false)},__settingEvents:function(){var p=this;if(!j.isAnimate){return}var o="."+h+"draw";if(i){o="."+h+"spinner-icon"}k.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",o,function(){if(!l){p.__spinnerHide()}})},__spinnerShow:function(){if(i&&!j.labelData.isLabelHide){n.removeClass("hide")}else{k.removeClass("hide")}if(j.useTransition!=true){k.removeClass(h+"transition");this.startSpinAnimation()}else{k.addClass(h+"transition")}},__spinnerHide:function(){if(i&&!j.labelData.isLabelHide){n.addClass("hide")}else{k.addClass("hide")}if(j.useTransition!=true){this.stopSpinAnimation()}k.removeClass(h+"transition");if(j.useTransition!=true){this.stopSpinAnimation()}},__setLabelTxt:function(o){if(!i){return}if(o){m.html(j.labelData.loadingTxt)}else{m.html(j.labelData.txt)}},show:function(){if(l){return this}l=true;this.__spinnerShow();this.__setLabelTxt(true);if(j.isAnimate){k.addClass(h+"ani");var o=this;setTimeout(function(){if(l){k.removeClass(h+"spinner-hide")}else{o.hide()}},50)}return this},hide:function(){if(!l){return this}l=false;this.__setLabelTxt(false);if(j.isAnimate){if(i){k.removeClass(h+"ani")}k.addClass(h+"spinner-hide")}else{this.__spinnerHide()}return this},destroy:function(){if(this.element()){k.children().remove();n=m=j=null;this._super("destroy",arguments)}return k.get(0)}}}})})(window);(function(d,e){var b=UI.Class,a=b.UICore,g=b.Scroll,f=b.UIKit.cssPrefix,c=b({name:"ScrollSwipe",parent:a,"static":function(){return{_setting:{defaultOptions:{itemsSelector:"."+f+"scroll-container>ul>li",page:1,continuous:false,useScrollBounce:false,alwaysScrollBounce:false,autoSwipe:false,autoSwipeTime:5000,autoResize:false,usePageIndicator:true,usePrevNextButton:false,activeIndicator:false,onlyLeftToRight:false,changeHandler:function(){},finishScrollAnimationHandler:function(){}}}}},constructor:function(){var k,h,u;var m,r,v;var j,o,l,n,p,t,q=false;var i,s;return{init:function(x){var w=this._super("init",arguments);if(w){v=this._options();u=$(d);k=$(x);this.__setDisplay();this.__createPageIndicator();this.__setting();this.__createScroll();this.continuous(v.continuous);this.autoSwipe(v.autoSwipe);this.__bindEvent();this.page(v.page,false);return this}},totalPage:function(){return j},scroll:function(){return m},autoSwipe:function(w){n=w;this.__setAutoSwipeTimer();return this},__setting:function(w){if(w==e){w=0}var C=k.find("."+f+"scroll-container");C.css("width","");C.find("[data-clone-item]").remove();h=k.find(v.itemsSelector).css("width","");j=h.length;r.numberOfPages(j);r.currentPage(w);var B;var A=h.eq(0).outerWidth();var x=h.eq(0).width();if(v.continuous===true){var y=h.eq(0).clone().attr("data-clone-item","");var z=h.last().clone().attr("data-clone-item","");h.parent().prepend(z);h.parent().append(y);B=A*(j+2)}else{B=A*j}k.find(v.itemsSelector).width(x);C.width(B)},__setDisplay:function(){var x=$('<div class="'+f+'page-indicator"></div>');k.append(x);if(!v.usePageIndicator){x.css("display","none")}if(v.usePrevNextButton){var w='<div class="'+f+'swipe-btn"><button class="'+f+'prev-btn"><span>prev</span></button><button class="'+f+'next-btn"><span>next</span></button></div>';k.append(w)}},refresh:function(){this.page(1,false);this.resize();return this},resize:function(){m.scrollInfo().allowScrollOffset.minX=0;this.__setting(o);this.continuous(q);m.refresh();m.pagingEnabled(true);m.scrollToIndexPage(o,false);this.page(o,false);this.__checkOnlyLeftToRight();return this},continuous:function(w){q=w;p=j;t=1;if(w==true){p++;t--}},__createScroll:function(){m=k.find("."+f+"scroll").instance("Scroll",{useScrollBar:false,scrollX:true,scrollY:false,useWheelMouse:false,onlyLeftToRight:v.onlyLeftToRight,useScrollBounceHorizontal:v.useScrollBounce,alwaysScrollBounceHorizontal:v.alwaysScrollBounce}).pagingEnabled(true)},__createPageIndicator:function(){r=k.find("."+f+"page-indicator").instance("PageIndicator")},__bindEvent:function(){var x=this;m.bind("finishScrollAnimation",function(){l=false;var y=x.__calcCurrentPage();if(y!=o){x.page(y,false)}if(q){if(y==0){x.page(j,false)}else{if(y>j){x.page(1,false)}}}if(o!=r.currentPage()){r.currentPage(o)}x._dispatchEventHandler("finishScrollAnimation",o);x.__checkOnlyLeftToRight()});m.bind("dragging",function(){x.__setAutoSwipeTimer()});k.on("click."+this.instanceID,"."+f+"next-btn",function(){x.next()});k.on("click."+this.instanceID,"."+f+"prev-btn",function(){x.prev()});if(v.activeIndicator){r.bind("selectPage",function(y){x.page(y,false)})}if(v.autoResize){var w;u.on("resize."+this.resizeTimer,function(){clearTimeout(w);w=setTimeout(function(){if(w==e){return}x.resize()},30)})}},__unbindEvent:function(){var w=this;m.unbind("finishScrollAnimation."+this.instanceID);m.unbind("dragging."+this.instanceID);k.off("click."+this.instanceID);if(v.activeIndicator){r.unbind("selectPage."+this.instanceID)}if(v.autoResize){u.off("resize."+this.instanceID)}},__checkOnlyLeftToRight:function(){if(v.onlyLeftToRight){m.scrollInfo().allowScrollOffset.minX=(o-1)*k.width()}},next:function(){var w=Math.min(o+1,p);this.page(w);return this},prev:function(){var w=Math.max(o-1,t);this.page(w);return this},__setAutoSwipeTimer:function(){var w=this;if(n){clearTimeout(i);var w=this;i=setTimeout(function(){if(i==e){return}if(n){w.next()}},v.autoSwipeTime)}},__calcCurrentPage:function(){var A=m.scrollInfo();var y=A.frameSize.width;var w=A.contentOffset.x;if(v.continuous){w-=y}var z=Math.round(w/y)+1;return z},page:function(w,x){if(arguments.length==0){return o}else{var y=o;if(l==true){return}if(x!=false){l=true}o=parseInt(w);r.currentPage(w);if(q==true){w++}m.scrollToIndexPage(w,x);this.__setAutoSwipeTimer();if(y!=Math.max(Math.min(o,j),1)){this._dispatchEventHandler("change",o)}}return this},destroy:function(){if(this.element()){this.__unbindEvent();clearTimeout(i);clearTimeout(s);$(r.destroy()).remove();k.find("."+f+"swipe-btn").remove();m.destroy();this._super("destroy",arguments);m=r=e;i=s=e;h=u=v=e}return k.get(0)}}}})})(window);(function(d,e){var b=UI.Class,a=b.Responder,c=b({name:"UIComponent",parent:a,constructor:function(){var f;return{init:function(){var g=this._super().init();if(g){return this}},view:function(g){if(arguments.length===0){return f}f=g}}}})})(window);(function(c,e){var a=UI.Class,f=a.UIKit.cssPrefix,b=a({name:"Datepicker",parent:"UICore","static":{_setting:{defaultOptions:{dateFormat:"yy-mm-dd",iconTemplate:'<a href="#"><span></span></a>',useCalendarIcon:false,calendarOptions:{},disabled:false,changeHandler:function(){}}},formatType:["yy","y","mm","m","dd","d","MM","M","DD","D"]},constructor:function(){var h,i,j;var k,g,l;var m=[];var q,p,o,n;return{init:function(s,t){var r=this._super("init",arguments);if(r){q=this._options();h=$(document);i=$(s);j=i.find("input");n=q.disabled;this.__setupElements();this.dateFormat(q.dateFormat);this.__bindEvents();return this}},__setupElements:function(){if(q.useCalendarIcon){var s=$(q.iconTemplate).addClass(f+"calendar-icon");var r=$('<div class="'+f+'set-field"></div>');r.html(s);i.prepend(r);j.before(r);r.prepend(j);i.attr("data-type","icon")}else{i.attr("data-type","field")}this.__createCalendar();if(n==true||n=="true"){this.disable()}},__createCalendar:function(){var r=$('<div class="'+f+'calendar"></div>');i.append(r);l=r.instance("Calendar",q.calendarOptions)},__bindEvents:function(){var r=this;l.bind("select",function(t,s){r.__changeValue(s);r.hideCalendar()});l.bind("cancelSelect",function(){j.val("")});j.on("focusin."+this.instanceID,function(){r.showCalendar()});j.on("focusout."+this.instanceID+" blur."+this.instanceID+" keyup."+this.instanceID,function(){r.__setFieldValue()});i.on("click."+this.instanceID,"."+f+"calendar-icon",function(s){s.preventDefault();if(o){r.hideCalendar()}else{r.showCalendar()}})},__unbindEvents:function(){if(l){l.unbind("select");l.unbind("cancelSelect")}j.off("focusin."+this.instanceID);j.off("focusout."+this.instanceID+" blur."+this.instanceID+" keyup."+this.instanceID);i.off("click."+this.instanceID);h.off("mousedown."+this.instanceID)},__setFieldValue:function(s){var t=(s!=e)?j.val(s):j.val();if(t.length>4&&t!=p){var r=this.__parseDate(t);this.__calendarSelect(r.getFullYear(),r.getMonth()+1,r.getDate());this.__setCurrentValue(r)}},disable:function(){n=true;this.hideCalendar();j.attr("disabled","disabled")},enable:function(){n=false;j.removeAttr("disabled")},refresh:function(){l.cancelSelect();return this},showCalendar:function(){if(n==true||n=="true"){return}l.show();l.gotoSelectedMonth();o=true;h.on("mousedown."+this.instanceID,function(r){if($(r.target).closest('[data-instance-id="'+i.attr("data-instance-id")+'"]').length==0){this.hideCalendar();h.off("mousedown.calendar")}}.bind(this));return this},hideCalendar:function(){o=false;l.hide();h.off("mousedown."+this.instanceID)},__calendarSelect:function(s,t,r){l.ignoreEvent(true);l.select(s,t,r);this._dispatchEventHandler("change",new Date(s,t-1,r));l.ignoreEvent(false)},__setCurrentValue:function(r){p=this.__formatDate(r)},__changeValue:function(r){this.__setCurrentValue(r);j.val(p);this._dispatchEventHandler("change",r)},__setupDateFormatAry:function(s){if(s==e){return}q.dateFormat=s;var r=[];m=[];$.each(b.formatType,function(u,v){var t=s.search(this);if(t!=-1){m.push(this);s=s.replace(this,"{{"+r.length+"}}");r.push(this)}});k=s},dateFormat:function(r){if(r==e){return g.join("")}else{this.__setupDateFormatAry(r);this.date(this.date());return this}},date:function(r){if(r==e){return l.getSelectedDate()}switch(typeof(r)){case"string":r=this.__parseDate(r);case"object":if(typeof(r)=="object"&&r.getFullYear!=e){l.select(r)}break}return this},__parseDate:function(B){if(B==e){return}var A=q.dateFormat;var F,u,t,z=0,w=-1,v=-1,x=-1,C=-1,y=false,s,E=function(H){var I=(F+1<A.length&&A.charAt(F+1)===H);if(I){F++}return I},D=function(J){var H=E(J),K=(J==="@"?14:(J==="!"?20:(J==="y"&&H?4:(J==="o"?3:2)))),M=(J==="y"?K:1),L=new RegExp("^\\d{"+M+","+K+"}"),I=B.substring(z).match(L);if(!I){throw"Missing number at position "+z}z+=I[0].length;return parseInt(I[0],10)},r=function(I,J,L){var H=-1,K=$.map(E(I)?L:J,function(N,M){return[[M,N]]}).sort(function(N,M){return -(N[1].length-M[1].length)});$.each(K,function(N,O){var M=O[1];if(B.substr(z,M.length).toLowerCase()===M.toLowerCase()){H=O[0];z+=M.length;return false}});if(H!==-1){return H+1}else{throw"Unknown name at position "+z}},G=function(){if(B.charAt(z)!==A.charAt(F)){throw"Unexpected literal at position "+z}z++};for(F=0;F<A.length;F++){if(y){if(A.charAt(F)==="'"&&!E("'")){y=false}else{G()}}else{switch(A.charAt(F)){case"d":x=D("d");break;case"D":r("D",l.dayNamesShort,l.dayNames);break;case"m":v=D("m");break;case"M":v=r("M",l.monthNamesShort,l.monthNames);break;case"y":w=D("y");break;default:G()}}}if(z<B.length){t=B.substr(z);if(!/^\s+/.test(t)){throw"Extra/unparsed characters found in date: "+t}}if(w===-1){w=new Date().getFullYear()}else{if(w<100){w+=new Date().getFullYear()-new Date().getFullYear()%100}}if(C>-1){v=1;x=C;do{u=this._getDaysInMonth(w,v-1);if(x<=u){break}v++;x-=u}while(true)}s=new Date(w,v-1,x);if(s.getFullYear()!==w||s.getMonth()+1!==v||s.getDate()!==x){throw"Invalid date"}return s},__formatDate:function(s){var r=k;$.each(m,function(t,u){var v="";switch(String(this)){case"yy":v=s.getFullYear();break;case"y":v=s.getFullYear().toString().substring(2);break;case"mm":v=s.getMonth()+1;v=(v<10?"0":"")+v;break;case"m":v=s.getMonth()+1;break;case"dd":v=s.getDate();v=(v<10?"0":"")+v;break;case"d":v=s.getDate();break;case"MM":v=l.monthNames[s.getMonth()];break;case"M":v=l.monthNamesShort[s.getMonth()];break;case"DD":v=l.dayNames[s.getDay()];break;case"D":v=l.dayNamesMin[s.getDay()];break}r=r.replace("{{"+t+"}}",v)});return r},calendar:function(){return l},destroy:function(){if(this.element()){this._super("destroy",arguments);this.__unbindEvents();if(l){l.destroy()}i.children("."+f+"calendar").remove();q=l=j=h=g=null}return i.get(0)}}}}),d=a({name:"Calendar",parent:"UICore","static":{_setting:{defaultOptions:{monthNames:[],dayNames:[],showMonthAfterYear:false,shortMonthNames:false,shortDayNames:true,active:true,showOtherMonths:false,hidePrevNextButton:false,summary:"",caption:"",minDate:e,maxDate:e,today:e,ignoreEvent:false,changeMonth:false,changeYear:false,firstDay:0,yearSuffix:"",selectHandler:function(){},changeHandler:function(){},cancelSelectHandler:function(){}}},template:{header:'<div class="'+f+'calendar-header"><a href="#" data-action="prev" title="Prev"><em>prev</em></a><div class="'+f+'calendar-title"><span class="'+f+'calendar-month"></span>&nbsp;<span class="'+f+'calendar-year"></span></div><a href="#" data-action="next" title="Next"><em>next</em></a></div>'}},constructor:function(){var k,n,j;var g,h;var i;var l,m={validDate:false};return{init:function(p,q){var o=this._super("init",arguments);if(o){g=this._options();k=$(p);this.__setCaleanarStr();this.__setCalendarInfo();this.__setupElements();this.__setting();this.__bindEvents();return this}},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],__setting:function(){if(g.maxDate!=e&&h.today>g.maxDate){this.change(g.maxDate.getFullYear(),g.maxDate.getMonth()+1)}else{this.gotoCurrent()}},__setCaleanarStr:function(){if(!g.dayNames.length){if(g.shortDayNames){g.dayNames=this.dayNamesMin}else{g.dayNames=this.dayNames}}if(!g.monthNames.length){if(g.shortMonthNames){g.monthNames=this.monthNamesShort}else{g.monthNames=this.monthNames}}g.firstDay=g.firstDay%7;for(var p=0;p<g.firstDay;p++){var o=g.dayNames.shift();g.dayNames.push(o)}},__setCalendarInfo:function(){g.today=g.today?g.today:new Date();g.today=new Date(g.today.getFullYear(),g.today.getMonth(),g.today.getDate());h={today:g.today,selectedDate:e,year:g.today.getFullYear(),month:(g.today.getMonth()+1),lastDay:g.lastDay,ignoreEvent:g.ignoreEvent}},__setupElements:function(){n=$(d.template.header);if(g.showMonthAfterYear===true){n.find("."+f+"calendar-title").append(n.find("."+f+"calendar-month"))}if(g.hidePrevNextButton){n.find('[data-action="prev"]').add(n.find('[data-action="next"]')).remove()}var r='<div class="'+f+'calendar-content"><table "summary"='+g.summary+">";r+="<caption>"+g.caption+"</caption>";var q,o;r+="<thead><tr>";for(q=0,o=Object.keys(g.dayNames).length;q<o;q++){var s=g.dayNames[q];var p="<th><sapn title="+s+">"+s;p+="</span></th>";r+=p}r+="</tr></thead><tbody></tbody></table></div>";if(g.changeMonth){n.find("."+f+"calendar-title ."+f+"calendar-month").remove();n.find("."+f+"calendar-title").prepend('<select class="'+f+'calendar-month"></select>');this.__setMonthSelect(h.year)}if(g.changeYear){n.find("."+f+"calendar-title ."+f+"calendar-year").remove();n.find("."+f+"calendar-title").append('<select class="'+f+'calendar-year"></select>');this.__setYearSelect()}j=$(r);k.append(n);k.append(j)},show:function(){k.show();return this},hide:function(){k.hide();return this},minDate:function(p){if(p!=e){g.minDate=p;this.__checkSelectDate();var q=h.year,o=h.month;if(!this.__vaildDate(q,o)){if(this.__vaildDate(h.year,p.getMonth()+1)){o=p.getMonth()+1}else{q=p.getFullYear();o=p.getMonth()+1}}this.__setYearSelect();this.__setMonthSelect(q);this.change(q,o)}else{return g.minDate}return this},maxDate:function(p){if(p!=e){g.maxDate=p;this.__checkSelectDate();var q=h.year,o=h.month;if(!this.__vaildDate(q,o)){if(this.__vaildDate(h.year,p.getMonth()+1)){o=p.getMonth()+1}else{q=p.getFullYear();o=p.getMonth()+1}}this.__setYearSelect();this.__setMonthSelect(q);this.change(q,o)}else{return g.maxDate}return this},__checkSelectDate:function(){if(h.selectedDate&&!this.__vaildDate(h.selectedDate.getFullYear(),h.selectedDate.getMonth()+1,h.selectedDate.getDate())){this.cancelSelect()}},cancelSelect:function(){if(h.selectedDate){var o=new Date(h.selectedDate.getFullYear(),h.selectedDate.getMonth(),h.selectedDate.getDate());h.selectedDate=e;j.find("."+f+"select").removeClass(f+"select");this.__dispatchCalendarEvent("cancelSelect",o)}return this},gotoSelectedMonth:function(){if(!g.active){return}if(h.selectedDate==e){this.gotoCurrent();return this}this.change(h.selectedDate.getFullYear(),h.selectedDate.getMonth()+1);return this},gotoCurrent:function(){this.change(h.today.getFullYear(),h.today.getMonth()+1);return this},prevMonth:function(){var o=this.__getPrevMonth();this.change(o.year,o.month);return this},nextMonth:function(){var o=this.__getNextMonth();this.change(o.year,o.month);return this},__getPrevMonth:function(){var p=parseInt(h.month);var o=parseInt(h.year);if(p<=1){p=12;o-=1}else{p--}return{year:o,month:p}},__getNextMonth:function(){var p=parseInt(h.month);var o=parseInt(h.year);if(p>=12){p=1;o+=1}else{p++}return{year:o,month:p}},__isToday:function(p,q,o){return(h.today.getFullYear()==p&&h.today.getMonth()==(q-1)&&h.today.getDate()==o)?true:false},info:function(){return h},getSelectedDate:function(){return h.selectedDate},select:function(r,t,p){if(!g.active){return}if(arguments.length==0){return h.selectedDate}else{if(arguments.length==1){if(typeof(r)=="object"){var q=r;r=q.getFullYear();t=q.getMonth()+1;p=q.getDate()}else{p=r;r=h.year;t=h.month}}}if(!this.__vaildDate(r,t,p)){return e}if(h.month!==t||h.year!==r){this.change(r,t)}var s=j.find("tbody td[data-current-month][data-date]");s.filter("."+f+"select").removeClass(f+"select");s.filter("[data-date="+p+"]").addClass(f+"select");h.selectedDate=new Date(r,t-1,p);var o=new Date(r,t-1,p);this.__dispatchCalendarEvent("select",o);return this},ignoreEvent:function(o){if(o==e){return h.ignoreEvent}h.ignoreEvent=o;return this},__dispatchCalendarEvent:function(o,p){if(h.ignoreEvent!==true){this.dispatchEvent(o,this,p)}else{debug.log("ignore "+o+" event")}if(g[o+"Handler"]){g[o+"Handler"].call(this,this,p)}},__getDisit:function(o){var p=o.toString();if(p.length<2){p="0"+p}return p},__setYearSelect:function(){if(!g.changeYear){return}var r=n.find("select."+f+"calendar-year");var q="";var s=this;var o=parseInt(h.today.getFullYear())-10;var u=parseInt(h.today.getFullYear())+10;if(g.minDate){o=parseInt(g.minDate.getFullYear())}if(g.maxDate){u=parseInt(g.maxDate.getFullYear())}u++;var t=o;var p="";while(t<u){p+="<option value="+(t.toString())+">"+t.toString()+g.yearSuffix+"</option>";t++}r.html(p)},__setMonthSelect:function(q){if(!g.changeMonth){return}var o=n.find("select."+f+"calendar-month");var p="";var r=this;$.each(g.monthNames,function(s,t){if(r.__vaildDate(q,s+1)){p+="<option value="+(s+1)+">"+t+"</option>"}});o.html(p)},__vaildDate:function(r,t,p){if(arguments.length==3){if(m.validDate){return l.validDate(r,t,p)}}var s=r.toString()+this.__getDisit(t);if(p!=e){s+=this.__getDisit(p)}s=parseInt(s);if(g.minDate){var q=g.minDate.getFullYear().toString()+this.__getDisit(g.minDate.getMonth()+1);if(p!=e){q+=this.__getDisit(g.minDate.getDate())}q=parseInt(q);if(q>s){return false}}if(g.maxDate){var o=g.maxDate.getFullYear().toString()+this.__getDisit(g.maxDate.getMonth()+1);if(p!=e){o+=this.__getDisit(g.maxDate.getDate())}o=parseInt(o);if(o<s){return false}}return true},change:function(y,F){var x=this.__vaildDate(y,F);if(!x){if(g.changeYear){if(n.find("."+f+"calendar-year option[value="+y+"]").length){var A=1;if(g.minDate&&(parseInt(F)-1)<g.minDate.getMonth()){A=g.minDate.getMonth()+1}else{if(g.maxDate&&(parseInt(F)-1)>g.maxDate.getMonth()){A=g.maxDate.getMonth()+1}}this.change(y,A)}}return}h.year=y;h.month=F;var u=this;var E=0;var r=(new Date(h.year,F,0)).getDate();var C=(new Date(h.year,F-1,1)).getDay()-g.firstDay;if(C<0){C+=7}h.lastDay=r;var t=new Date(y,F-1,0).getDate()-C;var B;var q=1;var p="";var o="<span>",z="</span>";var s=false;if(h.selectedDate&&h.selectedDate.getFullYear()==y&&h.selectedDate.getMonth()+1==F){s=true}if(g.active){o='<a href="#">';z="</a>"}for(var D=0;D<6;D++){var G="<tr>";var v=false;$.each(g.dayNames,function(O,H){if(E==0){if(O>=C){E=1}}else{if(E<r){E=E+1}else{v=true;if(B==e){B=D}}}if(v&&B!=D||v&&O==0){return false}var M="";if(s&&h.selectedDate.getDate()==E){M=f+"select"}var R=' data-day="'+(O+g.firstDay)+'"';var P=false;var K="";var I="<td"+R+"></td>";if(E==0){if(g.showOtherMonths){var N=++t;var J=u.__getPrevMonth();P=!u.__vaildDate(J.year,J.month,N);if(P){K="disabled"}I="<td"+R+' data-prev-month data-action="none" '+K+' data-date="'+N+'" data-month="'+J.month+'" data-year="'+J.year+'">'+o+N+z+"</td>"}}else{if(v){if(g.showOtherMonths){var L=u.__getNextMonth();P=!u.__vaildDate(L.year,L.month,q);if(P){K="disabled"}I="<td"+R+' data-next-month data-action="none" '+K+' data-date="'+q+'" data-month="'+L.month+'" data-year="'+L.year+'">'+o+q+z+"</td>";q++}}else{P=!u.__vaildDate(y,F,E);if(P){K="disabled"}var Q="";if(u.__isToday(h.year,h.month,E)){Q=f+"today "}I="<td"+R+' data-current-month data-action="date" '+K+' class="'+Q+M+'" data-date="'+E+'" data-month="'+h.month+'" data-year="'+h.year+'">'+o+E+z+"</td>"}}G+=I});G+="</tr>";if(G!="<tr></tr>"){p+=G}}j.find("tbody").html(p);if(g.changeMonth){if(y!=i){this.__setMonthSelect(y)}if(this.__vaildDate(y,F)){n.find("."+f+"calendar-month").val(F)}else{n.find("."+f+"calendar-month").val(n.find("."+f+"calendar-month option:first").val())}}else{var w=g.monthNames[F-1];n.find("."+f+"calendar-month").html(w)}if(g.changeYear){n.find("."+f+"calendar-year").val(y)}else{n.find("."+f+"calendar-year").html(y+g.yearSuffix)}this.__dispatchCalendarEvent("change",{year:h.year,month:h.month});i=y;return this},delegate:function(o){l=o;m.validDate=(typeof l.validDate==="function")?true:false},__bindEvents:function(){var o=this;if(!g.hidePrevNextButton){k.on("click."+this.instanceID,"[data-action='prev']",function(p){p.preventDefault();o.prevMonth()});k.on("click."+this.instanceID,"[data-action='next']",function(p){p.preventDefault();o.nextMonth()})}if(g.active){k.on("click."+this.instanceID,"tbody [data-action]",function(q){q.preventDefault();var r=$(this);if(r.hasClass(f+"select")||r.attr("disabled")!=e){return}var p=parseInt(r.data("date"));if(r.attr("data-prev-month")!=e){o.prevMonth();o.select(p)}else{if(r.attr("data-next-month")!=e){o.nextMonth();o.select(p)}else{o.select(p)}}})}if(g.changeMonth){k.on("change."+this.instanceID,"select."+f+"calendar-month",function(p){o.change(h.year,this.value)})}if(g.changeYear){k.on("change."+this.instanceID,"select."+f+"calendar-year",function(p){o.change(this.value,h.month)})}},__unbindEvents:function(){k.off("click."+this.instanceID);k.off("change."+this.instanceID)},destroy:function(){if(this.element()){this._super("destroy",arguments);this.__unbindEvents();k.children().remove();n=j=h=g=null}return k.get(0)}}}})})(window);(function(c,b){var k=UI.Class,q=UI.Template,h=k.Element,j=k.UIButton,f=k.UIComponent,d=k.UICore,r=k.Scroll,l=k.UIKit.cssPrefix,o=function(w){var t=w,v={},u=[];return{_setData:function(x){Array.each(x,function(y,z){var A={key:z.key,title:z.title,width:z.width,textAlign:z.align};u.push(z.key);v[z.key]=A})},_set:function(x,y){u.push(x);v[x]=y},data:function(x){if(v[x]){return v[x]}return v},keys:function(){return u},count:function(){return u.length},title:function(x){return this.data(x).title},width:function(D){var y=this.data(D).width;var A=0;var E=0;var x=0;var C=0;var z=0;this.each(function(G,H,I){if(I.width==="default"||I.width==="auto"||I.width===""||I.width==b){A=A+1}else{if(I.width.indexOf("%")!==-1){C=C+parseInt(I.width);z=z+1}else{x=x+parseInt(I.width)}}E=E+1});var B=$(t.element()).parent().width();var F=(B-x-((C/100)*B))/A;if(y==="default"||y==="auto"||y===""||y==b){return F}else{if(y.indexOf("%")!==-1){return y}}return parseInt(y)},resizeInfo:function(){var y={};var x=this;Array.each(u,function(z,A){y[A]=x.width(A)});return y},keyAtIndex:function(x){return u[x]},each:function(y,x){x=x||this;Array.each(u,function(z,A){y.call(x,z,A,v[A])},x)}}},p=k({name:"UITableColumn",parent:h,constructor:function(){var v,u,t;return{init:function(z,y,x,A){var w=this._super("init",arguments);if(w){v=y;u=A;this.html(x);return this}},key:function(){return v},resize:function(x){var w=x[v];this.css({width:w})}}}}),m=k({name:"UITableRow",parent:h,constructor:function(){var v=[],u,t;return{init:function(x,y){var w=this._super("init",arguments);if(w){u=y;return this}},resize:function(w){Array.each(v,function(x,y){y.resize(w)})},columns:function(){return v},each:function(x,w){w=w||this;Array.each(v,function(y,z){x.call(w,y,z)},w)},addColumn:function(w,y){var z=document.createElement("TD");var x=new p(z,w,y,u);v.push(x);this.append(x);return x},loadDOM:function(){var w=this;$(this.element()).find("th,td").each(function(x,y){var z=u.colgroup().keyAtIndex(x);var A=new p(y,z,$(y).html(),u);v.push(A)})}}}}),s=k({name:"UITableGroup",parent:d,constructor:function(){var v;var y=[];var t;var x,w;var u;var z;return{init:function(C,B){var A=this._super("init",arguments);if(A){x=$(C);z=x.find("table");w=z.children().eq(0);v=this;u=B;return this}},resize:function(A){Array.each(y,function(B,C){C.resize(A)})},addTableClass:function(A){z.addClass(A)},colgroup:function(){return u},firstRow:function(){return y.length>0?y[0]:null},rows:function(){return y},each:function(B,A){A=A||this;Array.each(y,function(C,D){B.call(A,C,D)},A)},clear:function(){w.empty()},addBlankRow:function(C){var D=document.createElement("TR");var E=new m(D,this);var A=t.colgroup();var F=document.createElement("TD");var B=new p(F,"",C,this);B.attr("colspan",A.count());E.addClass("blank");E.append(B);w.append(E);return E},addRow:function(C){var B=document.createElement("TR");var D=new m(B,this);var A=u;A.each(function(E,F,G){D.addColumn(F,C[F]||"")});y.push(D);w.append(D.element());return D},loadDOM:function(){var A=this;w.find("tr").each(function(B,C){var C=new m(C,A);C.loadDOM();y.push(C)})},setColgroup:function(A,B){u._set(A,B)}}}}),e=k({name:"UITableHead",parent:s,constructor:function(){var u;var t;return{init:function(x,w){u=$(x);u.html("<table><thead></thead></table>");var v=this._super("init",arguments);if(v){return this}},addRow:function(w){var x=this._super("addRow",[w]);var v=this.colgroup();if(x===this.firstRow()){x.each(function(y,B){var z=B.key();var C=v.data(z);for(var A in C){B.data(A,C[A])}})}return x},headData:function(){var v={};this.colgroup().each(function(w,x,y){v[x]=y.title});return v}}}}),i=k({name:"UITableBody",parent:s,constructor:function(){var v;var u,t;var w=true;var x={useScrollBar:true,fadeScrollbars:false,useScrollBounceVertical:false,flexable:false};return{init:function(B,z,A){v=$(B);v.html("<table><tbody></tbody></table>");var y=this._super("init",arguments);if(y){w=A.useScroll;x=$.extend(true,{},x,A.scrollOptions);this.__createScroll();return this}},__createScroll:function(){if(w==false){return}v.addClass(l+"scroll");v.find("table").addClass(l+"scroll-container");u=v.instance("Scroll",x)},scrollRefresh:function(){if(u){u.refresh()}}}}}),n=k({name:"UITable",parent:d,"static":function(){return{_setting:{defaultOptions:{scheme:{},fields:[],addTableClass:"table",useScroll:true,scrollOptions:{}}}}},constructor:function(){var u,y,v;var x;var t;var w;return{init:function(B,A){var z=this._super("init",arguments);if(z){t=this._options();x=$(B);this.__creatContents();this._createHead(t.fields);return this}},__creatContents:function(){v=new o(this);var A=$('<div class="'+l+'head-container"></div>');var z=$('<div class="'+l+'body-container"></div>');x.html(A.add(z));u=new e(A,v);y=new i(z,v,{useScroll:t.useScroll,scrollOptions:t.scrollOptions});u.addTableClass(t.addTableClass);y.addTableClass(t.addTableClass)},_createHead:function(A){var B=this;var z=$("<tr></tr>");var C=z.instance(m,u);x.find("thead").append(z);u.rows().push(C);$(A).each(function(G,I){var F=$("<th></th>");for(var D in I){F.attr("data-"+D,I[D])}var H={};var E=F.instance(p,I.key,I.title,u);if(I.sortable==true){E.bind("click",function(K){var J=E.key();B.dispatchEvent("selectHeadColumn",J)})}z.append(F);C.columns().push(E);u.setColgroup(I.key,I)})},head:function(){return u},body:function(){return y},resize:function(){var z=v.resizeInfo();u.resize(z);y.resize(z);y.scrollRefresh()},colgroup:function(z){if(arguments.length===0){return v}v._setData(z)},clear:function(){y.clear()},makeRows:function(z){Array.each(z,function(A,B){y.addRow(B)})},destroy:function(){if(this.element()){this._super("destroy",arguments);u.destroy();y.destroy()}return x.get(0)}}}}),g=k({name:"DataGrid",parent:d,"static":function(){return{_setting:{defaultOptions:{scheme:{},fields:[],width:"100%",height:"200px",data:[],pageSize:20,page:1,autoResize:false,addTableClass:"table",useScroll:true,scrollOptions:{},usePagination:true,paginationOptions:{},changeHandler:function(){}}}}},constructor:function(){var y,z;var t,v,H,G;var C=[],x,w="",B="",u,A=1,D=1,F=10;var E;return{init:function(K,J){var I=this._super("init",arguments);if(I){var L=this;G=this._options();y=$(K);this.__loadDomData();this.__createSortElement();this.__setAutoResize();this.__createTable();this.size(G.width,G.height);A=G.page;F=G.pageSize;this._createPagination();this.resetData({data:G.data,pageSize:G.pageSize,page:G.page});t.resize();return this}},__loadDomData:function(){if(G.fields.length==0||y.find("thead tr").length>1){G.fields=this.__getHeadDOMData()}if(G.data.length==0||y.find("tbody tr").length>1){G.data=this.__getBodyDOMData()}y.find("table").remove()},__getHeadDOMData:function(){var L=this;var K=y.find("table");var J=y.find("thead td");var I=[];J.each(function(){var O=$(this);var N=O.html();var M=O.data();if(N!=""){M.title=N}I.push(M)});return I},__getBodyDOMData:function(){var I=y.find("tbody tr");var J=[];I.each(function(){var K={};$(this).find("td").each(function(L,M){var N=$(M);K[G.fields[L].key]=N.html()});J.push(K)});return J},size:function(J,I){y.width(J);z.height(I);this.resize();return this},__setAutoResize:function(){if(G.autoResize==false){return}var I=this;$(c).on("resize."+this.instanceID,function(){clearTimeout(E);E=setTimeout(function(){I.resize()},100)})},__createSortElement:function(){u=new h("SPAN");u.addClass("sort-arrow")},__createTable:function(){if(G.usePagination==true){z=$("<div></div>");y.html(z)}else{z=y}z.addClass(l+"table-container");t=new n(z.get(0),G);var I=this;t.bind("selectHeadColumn",function(J){I.sortByKey(J)})},_createPagination:function(){if(G.usePagination!=true){return}var I=this;var J=$('<nav class="'+l+'pagination"></nav>');z.after(J);v=J.instance("Pagination",{usePrevNextListButton:G.paginationOptions.usePrevNextListButton,useFirstLastButton:G.paginationOptions.useFirstLastButton,visiblePage:G.paginationOptions.visiblePage,changeHandler:function(L,K){I.page(K)}})},resize:function(){t.resize();return this},table:function(){return t},colgroup:function(I){var K,J=this;t.colgroup(I);t.head().addRow(t.head().headData()).each(function(L,M){M.bind("click."+J.instanceID,function(O){var N=M.key();J.sortByKey(N)})})},sortByKey:function(I){if(w===I){if(B===""){B="ASC"}else{if(B==="ASC"){B="DESC"}else{if(B==="DESC"){B=""}}}}else{w=I;B="ASC"}this.render()},getCurrentData:function(){return x},getData:function(){if(C.length===0){return[]}var I=[];if(B!==""){var J=Array.copy(C);Array.sort(J,function(N,K){var M=N[w];var L=K[w];if(!isNaN(parseInt(M))&&!isNaN(parseInt(L))){M=parseInt(M);L=parseInt(L)}if(B=="DESC"&&M<L){return B}else{if(B=="ASC"&&M>L){return B}}});I=J}else{I=C}return I},render:function(K){var M=t.head().firstRow();if(M){var J=M.columns();Array.each(J,function(N,O){if(O.key()===w){u.removeClass("DESC ASC");u.addClass(B);O.append(u);return false}})}var L=this.getData();var I=[];Array.each(L,function(O,N){if(O<(A*F)&&O>=((A-1)*F)){I.push(N)}});t.clear();if(K||H){if(K!==b){H=q.parse(K)}var K=H.render({items:I});t.body().html(K);t.body().loadDOM()}else{t.makeRows(I)}x=I;this.resize();this._dispatchEventHandler("change",A,y.get(0))},clearData:function(){C=[];D=1},pageSize:function(I){if(arguments.length==0){return F}F=I;this.render();return this},totalPage:function(){return D},nextPage:function(){this.page(A+1);return this},prevPage:function(){this.page(A-1);return this},page:function(I){if(I==b){return A}I=Math.min(Math.max(parseInt(I),1),D);if(A===I){return}A=I;if(v){v.page(I,true)}this.render();return this},resetData:function(J,I){this.data(J,I);this.render();return this},data:function(J,I){C=J.data;F=J.pageSize;A=J.page;A=(A)?A:1;F=(F)?F:G.pageSize;D=(C.length==0)?1:Math.ceil(C.length/F);if(v){v.pageData({totalPage:D,page:A})}if(I===true){this.render(I)}},destroy:function(){if(y.attr("data-instance-id")!=""){if(v){$(v.destroy()).remove()}$(c).off("resize."+this.instanceID);t.destroy();t=v=H=C=u=null;z=G=null;y.children().remove();this._super("destroy",arguments)}return y.get(0)}}}}),a=k({name:"Pagination",parent:d,"static":function(){return{_setting:{defaultOptions:{totalPage:1,visiblePage:5,page:1,usePrevNextListButton:true,useFirstLastButton:true,changeHandler:function(){}}}}},constructor:function(){var t;var v=[],B;var A,w,z,y,u,x=true;return{init:function(E,D){var C=this._super("init",arguments);if(C){B=this._options();t=$(E);this.__setting();this.__bindEvent();return this}},__setting:function(){this.pageData({totalPage:B.totalPage,visiblePage:B.visiblePage,page:B.page})},__makeButtons:function(F){y=F;var D="<ul>";if(B.useFirstLastButton==true){D+='<li><a data-page="first-page" href="#" aria-label="first">&laquo;</a></li>'}if(B.usePrevNextListButton){D+='<li><a data-page="prev-list" href="#" aria-label="prev">&lsaquo;</a></li>'}var C=Math.min(F+A,z+1);for(var E=F;E<C;E++){D+='<li><a data-page="'+E+'" href="#">'+E+"</a></li>"}if(B.usePrevNextListButton==true){D+='<li><a data-page="next-list" href="#" aria-label="next">&rsaquo;</a></li>'}if(B.useFirstLastButton){D+='<li><a data-page="last-page" href="#" aria-label="last">&raquo;</a></li>'}D+="</ul>";t.html(D)},__getPage:function(F){var E;switch(F){case"next-list":var D=y+A;if(D>u){E=w}else{E=D}break;case"prev-list":var C=y-A;if(y==1){E=w}else{E=Math.max(y-A,1)}break;case"first-page":E=0;break;case"last-page":E=z;break;default:E=F}return E},__getCurrentPage:function(G){var F=Math.ceil(z/A);for(var E=1,D=F;E<=F;E++){var C=(E*A);if(G<=C){break}}return Math.min(C-A+1,z)},__bindEvent:function(){var C=this;t.on("click."+this.instanceID,"[data-page]",function(F){F.preventDefault();var D=$(this).attr("data-page");var E=C.__getPage(D);C.page(E)})},__unbindEvent:function(){t.off("click."+this.instanceID)},pageData:function(C){if(arguments.length==0){return{totalPage:z,visiblePage:A,page:w}}z=parseInt(C.totalPage);A=(C.visiblePage)?parseInt(C.visiblePage):A;u=(Math.ceil(z/A)-1)*A;u+=1;w=(C.page)?C.page:1;x=true;this.page(w);return this},page:function(F,D){if(arguments.length==0){return w}var C=w;var E=this.__getCurrentPage(F);if(y!=E||x==true){this.__makeButtons(E)}w=Math.min(Math.max(F,1),z);t.find("[data-page="+w+"]").parent().addClass(l+"active").siblings().removeClass(l+"active");if(D!=true&&C!==w){this._dispatchEventHandler("change",w)}x=false;return this},destroy:function(){if(this.element()){this.__unbindEvent();t.children().remove();var C=B=null;this._super("destroy",arguments)}return t.get(0)}}}})})(window);